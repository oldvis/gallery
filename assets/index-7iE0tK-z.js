import{g as yn,d as _n,a as Vt,s as zt,o as $e,c as ke,b as ne,u as de,e as un,_ as vn,i as gn,Q as $n,n as Gt,w as wn,v as bn,f as En,h as Sn,j as Nt}from"./index-Ccfbl_xQ.js";var qe={exports:{}},Rt={},me={},be={},kt={},Ot={},jt={},Bt;function _t(){return Bt||(Bt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class n{}e._CodeOrName=n,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class g extends n{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=g;class c extends n{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((s,l)=>`${s}${l}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((s,l)=>(l instanceof g&&(s[l.str]=(s[l.str]||0)+1),s),{})}}e._Code=c,e.nil=new c("");function v(a,...t){const s=[a[0]];let l=0;for(;l<t.length;)u(s,t[l]),s.push(a[++l]);return new c(s)}e._=v;const o=new c("+");function f(a,...t){const s=[P(a[0])];let l=0;for(;l<t.length;)s.push(o),u(s,t[l]),s.push(o,P(a[++l]));return p(s),new c(s)}e.str=f;function u(a,t){t instanceof c?a.push(...t._items):t instanceof g?a.push(t):a.push(E(t))}e.addCodeArg=u;function p(a){let t=1;for(;t<a.length-1;){if(a[t]===o){const s=$(a[t-1],a[t+1]);if(s!==void 0){a.splice(t-1,3,s);continue}a[t++]="+"}t++}}function $(a,t){if(t==='""')return a;if(a==='""')return t;if(typeof a=="string")return t instanceof g||a[a.length-1]!=='"'?void 0:typeof t!="string"?`${a.slice(0,-1)}${t}"`:t[0]==='"'?a.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(a instanceof g))return`"${a}${t.slice(1)}`}function y(a,t){return t.emptyStr()?a:a.emptyStr()?t:f`${a}${t}`}e.strConcat=y;function E(a){return typeof a=="number"||typeof a=="boolean"||a===null?a:P(Array.isArray(a)?a.join(","):a)}function N(a){return new c(P(a))}e.stringify=N;function P(a){return JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function h(a){return typeof a=="string"&&e.IDENTIFIER.test(a)?new c(`.${a}`):v`[${a}]`}e.getProperty=h;function b(a){if(typeof a=="string"&&e.IDENTIFIER.test(a))return new c(`${a}`);throw new Error(`CodeGen: invalid export name: ${a}, use explicit $id name mapping`)}e.getEsmExportName=b;function r(a){return new c(a.toString())}e.regexpCode=r}(jt)),jt}var It={},Wt;function Qt(){return Wt||(Wt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const n=_t();class g extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var c;(function(p){p[p.Started=0]="Started",p[p.Completed=1]="Completed"})(c||(e.UsedValueState=c={})),e.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class v{constructor({prefixes:$,parent:y}={}){this._names={},this._prefixes=$,this._parent=y}toName($){return $ instanceof n.Name?$:this.name($)}name($){return new n.Name(this._newName($))}_newName($){const y=this._names[$]||this._nameGroup($);return`${$}${y.index++}`}_nameGroup($){var y,E;if(!((E=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||E===void 0)&&E.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}e.Scope=v;class o extends n.Name{constructor($,y){super(y),this.prefix=$}setValue($,{property:y,itemIndex:E}){this.value=$,this.scopePath=(0,n._)`.${new n.Name(y)}[${E}]`}}e.ValueScopeName=o;const f=(0,n._)`\n`;class u extends v{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?f:n.nil}}get(){return this._scope}name($){return new o($,this._newName($))}value($,y){var E;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const N=this.toName($),{prefix:P}=N,h=(E=y.key)!==null&&E!==void 0?E:y.ref;let b=this._values[P];if(b){const t=b.get(h);if(t)return t}else b=this._values[P]=new Map;b.set(h,N);const r=this._scope[P]||(this._scope[P]=[]),a=r.length;return r[a]=y.ref,N.setValue(y,{property:P,itemIndex:a}),N}getValue($,y){const E=this._values[$];if(E)return E.get(y)}scopeRefs($,y=this._values){return this._reduceValues(y,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,n._)`${$}${E.scopePath}`})}scopeCode($=this._values,y,E){return this._reduceValues($,N=>{if(N.value===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},y,E)}_reduceValues($,y,E={},N){let P=n.nil;for(const h in $){const b=$[h];if(!b)continue;const r=E[h]=E[h]||new Map;b.forEach(a=>{if(r.has(a))return;r.set(a,c.Started);let t=y(a);if(t){const s=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,n._)`${P}${s} ${a} = ${t};${this.opts._n}`}else if(t=N==null?void 0:N(a))P=(0,n._)`${P}${t}${this.opts._n}`;else throw new g(a);r.set(a,c.Completed)})}return P}}e.ValueScope=u}(It)),It}var Xt;function G(){return Xt||(Xt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const n=_t(),g=Qt();var c=_t();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return c.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return c.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return c.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}});var v=Qt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return v.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return v.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return v.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return v.varKinds}}),e.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class o{optimizeNodes(){return this}optimizeNames(i,w){return this}}class f extends o{constructor(i,w,I){super(),this.varKind=i,this.name=w,this.rhs=I}render({es5:i,_n:w}){const I=i?g.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${V};`+w}optimizeNames(i,w){if(i[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,i,w)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends o{constructor(i,w,I){super(),this.lhs=i,this.rhs=w,this.sideEffects=I}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,w){if(!(this.lhs instanceof n.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,i,w),this}get names(){const i=this.lhs instanceof n.Name?{}:{...this.lhs.names};return K(i,this.rhs)}}class p extends u{constructor(i,w,I,V){super(i,I,V),this.op=w}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class $ extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class y extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class E extends o{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class N extends o{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,w){return this.code=W(this.code,i,w),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class P extends o{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((w,I)=>w+I.render(i),"")}optimizeNodes(){const{nodes:i}=this;let w=i.length;for(;w--;){const I=i[w].optimizeNodes();Array.isArray(I)?i.splice(w,1,...I):I?i[w]=I:i.splice(w,1)}return i.length>0?this:void 0}optimizeNames(i,w){const{nodes:I}=this;let V=I.length;for(;V--;){const F=I[V];F.optimizeNames(i,w)||(x(i,F.names),I.splice(V,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((i,w)=>L(i,w.names),{})}}class h extends P{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class b extends P{}class r extends h{}r.kind="else";class a extends h{constructor(i,w){super(w),this.condition=i}render(i){let w=`if(${this.condition})`+super.render(i);return this.else&&(w+="else "+this.else.render(i)),w}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let w=this.else;if(w){const I=w.optimizeNodes();w=this.else=Array.isArray(I)?new r(I):I}if(w)return i===!1?w instanceof a?w:w.nodes:this.nodes.length?this:new a(he(i),w instanceof a?[w]:w.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,w){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(i,w),!!(super.optimizeNames(i,w)||this.else))return this.condition=W(this.condition,i,w),this}get names(){const i=super.names;return K(i,this.condition),this.else&&L(i,this.else.names),i}}a.kind="if";class t extends h{}t.kind="for";class s extends t{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,w){if(super.optimizeNames(i,w))return this.iteration=W(this.iteration,i,w),this}get names(){return L(super.names,this.iteration.names)}}class l extends t{constructor(i,w,I,V){super(),this.varKind=i,this.name=w,this.from=I,this.to=V}render(i){const w=i.es5?g.varKinds.var:this.varKind,{name:I,from:V,to:F}=this;return`for(${w} ${I}=${V}; ${I}<${F}; ${I}++)`+super.render(i)}get names(){const i=K(super.names,this.from);return K(i,this.to)}}class m extends t{constructor(i,w,I,V){super(),this.loop=i,this.varKind=w,this.name=I,this.iterable=V}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,w){if(super.optimizeNames(i,w))return this.iterable=W(this.iterable,i,w),this}get names(){return L(super.names,this.iterable.names)}}class d extends h{constructor(i,w,I){super(),this.name=i,this.args=w,this.async=I}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}d.kind="func";class _ extends P{render(i){return"return "+super.render(i)}}_.kind="return";class j extends h{render(i){let w="try"+super.render(i);return this.catch&&(w+=this.catch.render(i)),this.finally&&(w+=this.finally.render(i)),w}optimizeNodes(){var i,w;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(i,w){var I,V;return super.optimizeNames(i,w),(I=this.catch)===null||I===void 0||I.optimizeNames(i,w),(V=this.finally)===null||V===void 0||V.optimizeNames(i,w),this}get names(){const i=super.names;return this.catch&&L(i,this.catch.names),this.finally&&L(i,this.finally.names),i}}class C extends h{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}C.kind="catch";class D extends h{render(i){return"finally"+super.render(i)}}D.kind="finally";class z{constructor(i,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=i,this._scope=new g.Scope({parent:i}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,w){const I=this._extScope.value(i,w);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(i,w){return this._extScope.getValue(i,w)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,w,I,V){const F=this._scope.toName(w);return I!==void 0&&V&&(this._constants[F.str]=I),this._leafNode(new f(i,F,I)),F}const(i,w,I){return this._def(g.varKinds.const,i,w,I)}let(i,w,I){return this._def(g.varKinds.let,i,w,I)}var(i,w,I){return this._def(g.varKinds.var,i,w,I)}assign(i,w,I){return this._leafNode(new u(i,w,I))}add(i,w){return this._leafNode(new p(i,e.operators.ADD,w))}code(i){return typeof i=="function"?i():i!==n.nil&&this._leafNode(new N(i)),this}object(...i){const w=["{"];for(const[I,V]of i)w.length>1&&w.push(","),w.push(I),(I!==V||this.opts.es5)&&(w.push(":"),(0,n.addCodeArg)(w,V));return w.push("}"),new n._Code(w)}if(i,w,I){if(this._blockNode(new a(i)),w&&I)this.code(w).else().code(I).endIf();else if(w)this.code(w).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new a(i))}else(){return this._elseNode(new r)}endIf(){return this._endBlockNode(a,r)}_for(i,w){return this._blockNode(i),w&&this.code(w).endFor(),this}for(i,w){return this._for(new s(i),w)}forRange(i,w,I,V,F=this.opts.es5?g.varKinds.var:g.varKinds.let){const X=this._scope.toName(i);return this._for(new l(F,X,w,I),()=>V(X))}forOf(i,w,I,V=g.varKinds.const){const F=this._scope.toName(i);if(this.opts.es5){const X=w instanceof n.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,n._)`${X}.length`,B=>{this.var(F,(0,n._)`${X}[${B}]`),I(F)})}return this._for(new m("of",V,F,w),()=>I(F))}forIn(i,w,I,V=this.opts.es5?g.varKinds.var:g.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,n._)`Object.keys(${w})`,I);const F=this._scope.toName(i);return this._for(new m("in",V,F,w),()=>I(F))}endFor(){return this._endBlockNode(t)}label(i){return this._leafNode(new $(i))}break(i){return this._leafNode(new y(i))}return(i){const w=new _;if(this._blockNode(w),this.code(i),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(i,w,I){if(!w&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new j;if(this._blockNode(V),this.code(i),w){const F=this.name("e");this._currNode=V.catch=new C(F),w(F)}return I&&(this._currNode=V.finally=new D,this.code(I)),this._endBlockNode(C,D)}throw(i){return this._leafNode(new E(i))}block(i,w){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(w),this}endBlock(i){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-w;if(I<0||i!==void 0&&I!==i)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${i} expected`);return this._nodes.length=w,this}func(i,w=n.nil,I,V){return this._blockNode(new d(i,w,I)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(d)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,w){const I=this._currNode;if(I instanceof i||w&&I instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${i.kind}/${w.kind}`:i.kind}"`)}_elseNode(i){const w=this._currNode;if(!(w instanceof a))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const w=this._nodes;w[w.length-1]=i}}e.CodeGen=z;function L(O,i){for(const w in i)O[w]=(O[w]||0)+(i[w]||0);return O}function K(O,i){return i instanceof n._CodeOrName?L(O,i.names):O}function W(O,i,w){if(O instanceof n.Name)return I(O);if(!V(O))return O;return new n._Code(O._items.reduce((F,X)=>(X instanceof n.Name&&(X=I(X)),X instanceof n._Code?F.push(...X._items):F.push(X),F),[]));function I(F){const X=w[F.str];return X===void 0||i[F.str]!==1?F:(delete i[F.str],X)}function V(F){return F instanceof n._Code&&F._items.some(X=>X instanceof n.Name&&i[X.str]===1&&w[X.str]!==void 0)}}function x(O,i){for(const w in i)O[w]=(O[w]||0)-(i[w]||0)}function he(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,n._)`!${q(O)}`}e.not=he;const pe=R(e.operators.AND);function Z(...O){return O.reduce(pe)}e.and=Z;const ve=R(e.operators.OR);function A(...O){return O.reduce(ve)}e.or=A;function R(O){return(i,w)=>i===n.nil?w:w===n.nil?i:(0,n._)`${q(i)} ${O} ${q(w)}`}function q(O){return O instanceof n.Name?O:(0,n._)`(${O})`}}(Ot)),Ot}var H={},Yt;function Q(){if(Yt)return H;Yt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=G(),n=_t();function g(m){const d={};for(const _ of m)d[_]=!0;return d}H.toHash=g;function c(m,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(v(m,d),!o(d,m.self.RULES.all))}H.alwaysValidSchema=c;function v(m,d=m.schema){const{opts:_,self:j}=m;if(!_.strictSchema||typeof d=="boolean")return;const C=j.RULES.keywords;for(const D in d)C[D]||l(m,`unknown keyword: "${D}"`)}H.checkUnknownRules=v;function o(m,d){if(typeof m=="boolean")return!m;for(const _ in m)if(d[_])return!0;return!1}H.schemaHasRules=o;function f(m,d){if(typeof m=="boolean")return!m;for(const _ in m)if(_!=="$ref"&&d.all[_])return!0;return!1}H.schemaHasRulesButRef=f;function u({topSchemaRef:m,schemaPath:d},_,j,C){if(!C){if(typeof _=="number"||typeof _=="boolean")return _;if(typeof _=="string")return(0,e._)`${_}`}return(0,e._)`${m}${d}${(0,e.getProperty)(j)}`}H.schemaRefOrVal=u;function p(m){return E(decodeURIComponent(m))}H.unescapeFragment=p;function $(m){return encodeURIComponent(y(m))}H.escapeFragment=$;function y(m){return typeof m=="number"?`${m}`:m.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=y;function E(m){return m.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=E;function N(m,d){if(Array.isArray(m))for(const _ of m)d(_);else d(m)}H.eachItem=N;function P({mergeNames:m,mergeToName:d,mergeValues:_,resultToName:j}){return(C,D,z,L)=>{const K=z===void 0?D:z instanceof e.Name?(D instanceof e.Name?m(C,D,z):d(C,D,z),z):D instanceof e.Name?(d(C,z,D),D):_(D,z);return L===e.Name&&!(K instanceof e.Name)?j(C,K):K}}H.mergeEvaluated={props:P({mergeNames:(m,d,_)=>m.if((0,e._)`${_} !== true && ${d} !== undefined`,()=>{m.if((0,e._)`${d} === true`,()=>m.assign(_,!0),()=>m.assign(_,(0,e._)`${_} || {}`).code((0,e._)`Object.assign(${_}, ${d})`))}),mergeToName:(m,d,_)=>m.if((0,e._)`${_} !== true`,()=>{d===!0?m.assign(_,!0):(m.assign(_,(0,e._)`${_} || {}`),b(m,_,d))}),mergeValues:(m,d)=>m===!0?!0:{...m,...d},resultToName:h}),items:P({mergeNames:(m,d,_)=>m.if((0,e._)`${_} !== true && ${d} !== undefined`,()=>m.assign(_,(0,e._)`${d} === true ? true : ${_} > ${d} ? ${_} : ${d}`)),mergeToName:(m,d,_)=>m.if((0,e._)`${_} !== true`,()=>m.assign(_,d===!0?!0:(0,e._)`${_} > ${d} ? ${_} : ${d}`)),mergeValues:(m,d)=>m===!0?!0:Math.max(m,d),resultToName:(m,d)=>m.var("items",d)})};function h(m,d){if(d===!0)return m.var("props",!0);const _=m.var("props",(0,e._)`{}`);return d!==void 0&&b(m,_,d),_}H.evaluatedPropsToName=h;function b(m,d,_){Object.keys(_).forEach(j=>m.assign((0,e._)`${d}${(0,e.getProperty)(j)}`,!0))}H.setEvaluated=b;const r={};function a(m,d){return m.scopeValue("func",{ref:d,code:r[d.code]||(r[d.code]=new n._Code(d.code))})}H.useFunc=a;var t;(function(m){m[m.Num=0]="Num",m[m.Str=1]="Str"})(t||(H.Type=t={}));function s(m,d,_){if(m instanceof e.Name){const j=d===t.Num;return _?j?(0,e._)`"[" + ${m} + "]"`:(0,e._)`"['" + ${m} + "']"`:j?(0,e._)`"/" + ${m}`:(0,e._)`"/" + ${m}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return _?(0,e.getProperty)(m).toString():"/"+y(m)}H.getErrorPath=s;function l(m,d,_=m.opts.strictSchema){if(_){if(d=`strict mode: ${d}`,_===!0)throw new Error(d);m.self.logger.warn(d)}}return H.checkStrictMode=l,H}var Ce={},Zt;function we(){if(Zt)return Ce;Zt=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=G(),n={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Ce.default=n,Ce}var xt;function gt(){return xt||(xt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const n=G(),g=Q(),c=we();e.keywordError={message:({keyword:r})=>(0,n.str)`must pass "${r}" keyword validation`},e.keyword$DataError={message:({keyword:r,schemaType:a})=>a?(0,n.str)`"${r}" keyword must be ${a} ($data)`:(0,n.str)`"${r}" keyword is invalid ($data)`};function v(r,a=e.keywordError,t,s){const{it:l}=r,{gen:m,compositeRule:d,allErrors:_}=l,j=E(r,a,t);s??(d||_)?p(m,j):$(l,(0,n._)`[${j}]`)}e.reportError=v;function o(r,a=e.keywordError,t){const{it:s}=r,{gen:l,compositeRule:m,allErrors:d}=s,_=E(r,a,t);p(l,_),m||d||$(s,c.default.vErrors)}e.reportExtraError=o;function f(r,a){r.assign(c.default.errors,a),r.if((0,n._)`${c.default.vErrors} !== null`,()=>r.if(a,()=>r.assign((0,n._)`${c.default.vErrors}.length`,a),()=>r.assign(c.default.vErrors,null)))}e.resetErrorsCount=f;function u({gen:r,keyword:a,schemaValue:t,data:s,errsCount:l,it:m}){if(l===void 0)throw new Error("ajv implementation error");const d=r.name("err");r.forRange("i",l,c.default.errors,_=>{r.const(d,(0,n._)`${c.default.vErrors}[${_}]`),r.if((0,n._)`${d}.instancePath === undefined`,()=>r.assign((0,n._)`${d}.instancePath`,(0,n.strConcat)(c.default.instancePath,m.errorPath))),r.assign((0,n._)`${d}.schemaPath`,(0,n.str)`${m.errSchemaPath}/${a}`),m.opts.verbose&&(r.assign((0,n._)`${d}.schema`,t),r.assign((0,n._)`${d}.data`,s))})}e.extendErrors=u;function p(r,a){const t=r.const("err",a);r.if((0,n._)`${c.default.vErrors} === null`,()=>r.assign(c.default.vErrors,(0,n._)`[${t}]`),(0,n._)`${c.default.vErrors}.push(${t})`),r.code((0,n._)`${c.default.errors}++`)}function $(r,a){const{gen:t,validateName:s,schemaEnv:l}=r;l.$async?t.throw((0,n._)`new ${r.ValidationError}(${a})`):(t.assign((0,n._)`${s}.errors`,a),t.return(!1))}const y={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function E(r,a,t){const{createErrors:s}=r.it;return s===!1?(0,n._)`{}`:N(r,a,t)}function N(r,a,t={}){const{gen:s,it:l}=r,m=[P(l,t),h(r,t)];return b(r,a,m),s.object(...m)}function P({errorPath:r},{instancePath:a}){const t=a?(0,n.str)`${r}${(0,g.getErrorPath)(a,g.Type.Str)}`:r;return[c.default.instancePath,(0,n.strConcat)(c.default.instancePath,t)]}function h({keyword:r,it:{errSchemaPath:a}},{schemaPath:t,parentSchema:s}){let l=s?a:(0,n.str)`${a}/${r}`;return t&&(l=(0,n.str)`${l}${(0,g.getErrorPath)(t,g.Type.Str)}`),[y.schemaPath,l]}function b(r,{params:a,message:t},s){const{keyword:l,data:m,schemaValue:d,it:_}=r,{opts:j,propertyName:C,topSchemaRef:D,schemaPath:z}=_;s.push([y.keyword,l],[y.params,typeof a=="function"?a(r):a||(0,n._)`{}`]),j.messages&&s.push([y.message,typeof t=="function"?t(r):t]),j.verbose&&s.push([y.schema,d],[y.parentSchema,(0,n._)`${D}${z}`],[c.default.data,m]),C&&s.push([y.propertyName,C])}}(kt)),kt}var er;function Pn(){if(er)return be;er=1,Object.defineProperty(be,"__esModule",{value:!0}),be.boolOrEmptySchema=be.topBoolOrEmptySchema=void 0;const e=gt(),n=G(),g=we(),c={message:"boolean schema is false"};function v(u){const{gen:p,schema:$,validateName:y}=u;$===!1?f(u,!1):typeof $=="object"&&$.$async===!0?p.return(g.default.data):(p.assign((0,n._)`${y}.errors`,null),p.return(!0))}be.topBoolOrEmptySchema=v;function o(u,p){const{gen:$,schema:y}=u;y===!1?($.var(p,!1),f(u)):$.var(p,!0)}be.boolOrEmptySchema=o;function f(u,p){const{gen:$,data:y}=u,E={gen:$,keyword:"false schema",data:y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(E,c,void 0,p)}return be}var re={},Ee={},tr;function cn(){if(tr)return Ee;tr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getRules=Ee.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],n=new Set(e);function g(v){return typeof v=="string"&&n.has(v)}Ee.isJSONType=g;function c(){const v={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...v,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},v.number,v.string,v.array,v.object],post:{rules:[]},all:{},keywords:{}}}return Ee.getRules=c,Ee}var ye={},rr;function ln(){if(rr)return ye;rr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.shouldUseRule=ye.shouldUseGroup=ye.schemaHasRulesForType=void 0;function e({schema:c,self:v},o){const f=v.RULES.types[o];return f&&f!==!0&&n(c,f)}ye.schemaHasRulesForType=e;function n(c,v){return v.rules.some(o=>g(c,o))}ye.shouldUseGroup=n;function g(c,v){var o;return c[v.keyword]!==void 0||((o=v.definition.implements)===null||o===void 0?void 0:o.some(f=>c[f]!==void 0))}return ye.shouldUseRule=g,ye}var nr;function vt(){if(nr)return re;nr=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=cn(),n=ln(),g=gt(),c=G(),v=Q();var o;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(o||(re.DataType=o={}));function f(t){const s=u(t.type);if(s.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!s.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&s.push("null")}return s}re.getSchemaTypes=f;function u(t){const s=Array.isArray(t)?t:t?[t]:[];if(s.every(e.isJSONType))return s;throw new Error("type must be JSONType or JSONType[]: "+s.join(","))}re.getJSONTypes=u;function p(t,s){const{gen:l,data:m,opts:d}=t,_=y(s,d.coerceTypes),j=s.length>0&&!(_.length===0&&s.length===1&&(0,n.schemaHasRulesForType)(t,s[0]));if(j){const C=h(s,m,d.strictNumbers,o.Wrong);l.if(C,()=>{_.length?E(t,s,_):r(t)})}return j}re.coerceAndCheckDataType=p;const $=new Set(["string","number","integer","boolean","null"]);function y(t,s){return s?t.filter(l=>$.has(l)||s==="array"&&l==="array"):[]}function E(t,s,l){const{gen:m,data:d,opts:_}=t,j=m.let("dataType",(0,c._)`typeof ${d}`),C=m.let("coerced",(0,c._)`undefined`);_.coerceTypes==="array"&&m.if((0,c._)`${j} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>m.assign(d,(0,c._)`${d}[0]`).assign(j,(0,c._)`typeof ${d}`).if(h(s,d,_.strictNumbers),()=>m.assign(C,d))),m.if((0,c._)`${C} !== undefined`);for(const z of l)($.has(z)||z==="array"&&_.coerceTypes==="array")&&D(z);m.else(),r(t),m.endIf(),m.if((0,c._)`${C} !== undefined`,()=>{m.assign(d,C),N(t,C)});function D(z){switch(z){case"string":m.elseIf((0,c._)`${j} == "number" || ${j} == "boolean"`).assign(C,(0,c._)`"" + ${d}`).elseIf((0,c._)`${d} === null`).assign(C,(0,c._)`""`);return;case"number":m.elseIf((0,c._)`${j} == "boolean" || ${d} === null
              || (${j} == "string" && ${d} && ${d} == +${d})`).assign(C,(0,c._)`+${d}`);return;case"integer":m.elseIf((0,c._)`${j} === "boolean" || ${d} === null
              || (${j} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(C,(0,c._)`+${d}`);return;case"boolean":m.elseIf((0,c._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(C,!1).elseIf((0,c._)`${d} === "true" || ${d} === 1`).assign(C,!0);return;case"null":m.elseIf((0,c._)`${d} === "" || ${d} === 0 || ${d} === false`),m.assign(C,null);return;case"array":m.elseIf((0,c._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${d} === null`).assign(C,(0,c._)`[${d}]`)}}}function N({gen:t,parentData:s,parentDataProperty:l},m){t.if((0,c._)`${s} !== undefined`,()=>t.assign((0,c._)`${s}[${l}]`,m))}function P(t,s,l,m=o.Correct){const d=m===o.Correct?c.operators.EQ:c.operators.NEQ;let _;switch(t){case"null":return(0,c._)`${s} ${d} null`;case"array":_=(0,c._)`Array.isArray(${s})`;break;case"object":_=(0,c._)`${s} && typeof ${s} == "object" && !Array.isArray(${s})`;break;case"integer":_=j((0,c._)`!(${s} % 1) && !isNaN(${s})`);break;case"number":_=j();break;default:return(0,c._)`typeof ${s} ${d} ${t}`}return m===o.Correct?_:(0,c.not)(_);function j(C=c.nil){return(0,c.and)((0,c._)`typeof ${s} == "number"`,C,l?(0,c._)`isFinite(${s})`:c.nil)}}re.checkDataType=P;function h(t,s,l,m){if(t.length===1)return P(t[0],s,l,m);let d;const _=(0,v.toHash)(t);if(_.array&&_.object){const j=(0,c._)`typeof ${s} != "object"`;d=_.null?j:(0,c._)`!${s} || ${j}`,delete _.null,delete _.array,delete _.object}else d=c.nil;_.number&&delete _.integer;for(const j in _)d=(0,c.and)(d,P(j,s,l,m));return d}re.checkDataTypes=h;const b={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:s})=>typeof t=="string"?(0,c._)`{type: ${t}}`:(0,c._)`{type: ${s}}`};function r(t){const s=a(t);(0,g.reportError)(s,b)}re.reportTypeError=r;function a(t){const{gen:s,data:l,schema:m}=t,d=(0,v.schemaRefOrVal)(t,m,"type");return{gen:s,keyword:"type",data:l,schema:m.type,schemaCode:d,schemaValue:d,parentSchema:m,params:{},it:t}}return re}var je={},sr;function Nn(){if(sr)return je;sr=1,Object.defineProperty(je,"__esModule",{value:!0}),je.assignDefaults=void 0;const e=G(),n=Q();function g(v,o){const{properties:f,items:u}=v.schema;if(o==="object"&&f)for(const p in f)c(v,p,f[p].default);else o==="array"&&Array.isArray(u)&&u.forEach((p,$)=>c(v,$,p.default))}je.assignDefaults=g;function c(v,o,f){const{gen:u,compositeRule:p,data:$,opts:y}=v;if(f===void 0)return;const E=(0,e._)`${$}${(0,e.getProperty)(o)}`;if(p){(0,n.checkStrictMode)(v,`default is ignored for: ${E}`);return}let N=(0,e._)`${E} === undefined`;y.useDefaults==="empty"&&(N=(0,e._)`${N} || ${E} === null || ${E} === ""`),u.if(N,(0,e._)`${E} = ${(0,e.stringify)(f)}`)}return je}var le={},Y={},ar;function fe(){if(ar)return Y;ar=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=G(),n=Q(),g=we(),c=Q();function v(t,s){const{gen:l,data:m,it:d}=t;l.if(y(l,m,s,d.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${s}`},!0),t.error()})}Y.checkReportMissingProp=v;function o({gen:t,data:s,it:{opts:l}},m,d){return(0,e.or)(...m.map(_=>(0,e.and)(y(t,s,_,l.ownProperties),(0,e._)`${d} = ${_}`)))}Y.checkMissingProp=o;function f(t,s){t.setParams({missingProperty:s},!0),t.error()}Y.reportMissingProp=f;function u(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=u;function p(t,s,l){return(0,e._)`${u(t)}.call(${s}, ${l})`}Y.isOwnProperty=p;function $(t,s,l,m){const d=(0,e._)`${s}${(0,e.getProperty)(l)} !== undefined`;return m?(0,e._)`${d} && ${p(t,s,l)}`:d}Y.propertyInData=$;function y(t,s,l,m){const d=(0,e._)`${s}${(0,e.getProperty)(l)} === undefined`;return m?(0,e.or)(d,(0,e.not)(p(t,s,l))):d}Y.noPropertyInData=y;function E(t){return t?Object.keys(t).filter(s=>s!=="__proto__"):[]}Y.allSchemaProperties=E;function N(t,s){return E(s).filter(l=>!(0,n.alwaysValidSchema)(t,s[l]))}Y.schemaProperties=N;function P({schemaCode:t,data:s,it:{gen:l,topSchemaRef:m,schemaPath:d,errorPath:_},it:j},C,D,z){const L=z?(0,e._)`${t}, ${s}, ${m}${d}`:s,K=[[g.default.instancePath,(0,e.strConcat)(g.default.instancePath,_)],[g.default.parentData,j.parentData],[g.default.parentDataProperty,j.parentDataProperty],[g.default.rootData,g.default.rootData]];j.opts.dynamicRef&&K.push([g.default.dynamicAnchors,g.default.dynamicAnchors]);const W=(0,e._)`${L}, ${l.object(...K)}`;return D!==e.nil?(0,e._)`${C}.call(${D}, ${W})`:(0,e._)`${C}(${W})`}Y.callValidateCode=P;const h=(0,e._)`new RegExp`;function b({gen:t,it:{opts:s}},l){const m=s.unicodeRegExp?"u":"",{regExp:d}=s.code,_=d(l,m);return t.scopeValue("pattern",{key:_.toString(),ref:_,code:(0,e._)`${d.code==="new RegExp"?h:(0,c.useFunc)(t,d)}(${l}, ${m})`})}Y.usePattern=b;function r(t){const{gen:s,data:l,keyword:m,it:d}=t,_=s.name("valid");if(d.allErrors){const C=s.let("valid",!0);return j(()=>s.assign(C,!1)),C}return s.var(_,!0),j(()=>s.break()),_;function j(C){const D=s.const("len",(0,e._)`${l}.length`);s.forRange("i",0,D,z=>{t.subschema({keyword:m,dataProp:z,dataPropType:n.Type.Num},_),s.if((0,e.not)(_),C)})}}Y.validateArray=r;function a(t){const{gen:s,schema:l,keyword:m,it:d}=t;if(!Array.isArray(l))throw new Error("ajv implementation error");if(l.some(D=>(0,n.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const j=s.let("valid",!1),C=s.name("_valid");s.block(()=>l.forEach((D,z)=>{const L=t.subschema({keyword:m,schemaProp:z,compositeRule:!0},C);s.assign(j,(0,e._)`${j} || ${C}`),t.mergeValidEvaluated(L,C)||s.if((0,e.not)(j))})),t.result(j,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=a,Y}var or;function Rn(){if(or)return le;or=1,Object.defineProperty(le,"__esModule",{value:!0}),le.validateKeywordUsage=le.validSchemaType=le.funcKeywordCode=le.macroKeywordCode=void 0;const e=G(),n=we(),g=fe(),c=gt();function v(N,P){const{gen:h,keyword:b,schema:r,parentSchema:a,it:t}=N,s=P.macro.call(t.self,r,a,t),l=$(h,b,s);t.opts.validateSchema!==!1&&t.self.validateSchema(s,!0);const m=h.name("valid");N.subschema({schema:s,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${b}`,topSchemaRef:l,compositeRule:!0},m),N.pass(m,()=>N.error(!0))}le.macroKeywordCode=v;function o(N,P){var h;const{gen:b,keyword:r,schema:a,parentSchema:t,$data:s,it:l}=N;p(l,P);const m=!s&&P.compile?P.compile.call(l.self,a,t,l):P.validate,d=$(b,r,m),_=b.let("valid");N.block$data(_,j),N.ok((h=P.valid)!==null&&h!==void 0?h:_);function j(){if(P.errors===!1)z(),P.modifying&&f(N),L(()=>N.error());else{const K=P.async?C():D();P.modifying&&f(N),L(()=>u(N,K))}}function C(){const K=b.let("ruleErrs",null);return b.try(()=>z((0,e._)`await `),W=>b.assign(_,!1).if((0,e._)`${W} instanceof ${l.ValidationError}`,()=>b.assign(K,(0,e._)`${W}.errors`),()=>b.throw(W))),K}function D(){const K=(0,e._)`${d}.errors`;return b.assign(K,null),z(e.nil),K}function z(K=P.async?(0,e._)`await `:e.nil){const W=l.opts.passContext?n.default.this:n.default.self,x=!("compile"in P&&!s||P.schema===!1);b.assign(_,(0,e._)`${K}${(0,g.callValidateCode)(N,d,W,x)}`,P.modifying)}function L(K){var W;b.if((0,e.not)((W=P.valid)!==null&&W!==void 0?W:_),K)}}le.funcKeywordCode=o;function f(N){const{gen:P,data:h,it:b}=N;P.if(b.parentData,()=>P.assign(h,(0,e._)`${b.parentData}[${b.parentDataProperty}]`))}function u(N,P){const{gen:h}=N;h.if((0,e._)`Array.isArray(${P})`,()=>{h.assign(n.default.vErrors,(0,e._)`${n.default.vErrors} === null ? ${P} : ${n.default.vErrors}.concat(${P})`).assign(n.default.errors,(0,e._)`${n.default.vErrors}.length`),(0,c.extendErrors)(N)},()=>N.error())}function p({schemaEnv:N},P){if(P.async&&!N.$async)throw new Error("async keyword in sync schema")}function $(N,P,h){if(h===void 0)throw new Error(`keyword "${P}" failed to compile`);return N.scopeValue("keyword",typeof h=="function"?{ref:h}:{ref:h,code:(0,e.stringify)(h)})}function y(N,P,h=!1){return!P.length||P.some(b=>b==="array"?Array.isArray(N):b==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==b||h&&typeof N>"u")}le.validSchemaType=y;function E({schema:N,opts:P,self:h,errSchemaPath:b},r,a){if(Array.isArray(r.keyword)?!r.keyword.includes(a):r.keyword!==a)throw new Error("ajv implementation error");const t=r.dependencies;if(t!=null&&t.some(s=>!Object.prototype.hasOwnProperty.call(N,s)))throw new Error(`parent schema must have dependencies of ${a}: ${t.join(",")}`);if(r.validateSchema&&!r.validateSchema(N[a])){const l=`keyword "${a}" value is invalid at path "${b}": `+h.errorsText(r.validateSchema.errors);if(P.validateSchema==="log")h.logger.error(l);else throw new Error(l)}}return le.validateKeywordUsage=E,le}var _e={},ir;function kn(){if(ir)return _e;ir=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.extendSubschemaMode=_e.extendSubschemaData=_e.getSubschema=void 0;const e=G(),n=Q();function g(o,{keyword:f,schemaProp:u,schema:p,schemaPath:$,errSchemaPath:y,topSchemaRef:E}){if(f!==void 0&&p!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(f!==void 0){const N=o.schema[f];return u===void 0?{schema:N,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(f)}`,errSchemaPath:`${o.errSchemaPath}/${f}`}:{schema:N[u],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(f)}${(0,e.getProperty)(u)}`,errSchemaPath:`${o.errSchemaPath}/${f}/${(0,n.escapeFragment)(u)}`}}if(p!==void 0){if($===void 0||y===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:$,topSchemaRef:E,errSchemaPath:y}}throw new Error('either "keyword" or "schema" must be passed')}_e.getSubschema=g;function c(o,f,{dataProp:u,dataPropType:p,data:$,dataTypes:y,propertyName:E}){if($!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:N}=f;if(u!==void 0){const{errorPath:h,dataPathArr:b,opts:r}=f,a=N.let("data",(0,e._)`${f.data}${(0,e.getProperty)(u)}`,!0);P(a),o.errorPath=(0,e.str)`${h}${(0,n.getErrorPath)(u,p,r.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${u}`,o.dataPathArr=[...b,o.parentDataProperty]}if($!==void 0){const h=$ instanceof e.Name?$:N.let("data",$,!0);P(h),E!==void 0&&(o.propertyName=E)}y&&(o.dataTypes=y);function P(h){o.data=h,o.dataLevel=f.dataLevel+1,o.dataTypes=[],f.definedProperties=new Set,o.parentData=f.data,o.dataNames=[...f.dataNames,h]}}_e.extendSubschemaData=c;function v(o,{jtdDiscriminator:f,jtdMetadata:u,compositeRule:p,createErrors:$,allErrors:y}){p!==void 0&&(o.compositeRule=p),$!==void 0&&(o.createErrors=$),y!==void 0&&(o.allErrors=y),o.jtdDiscriminator=f,o.jtdMetadata=u}return _e.extendSubschemaMode=v,_e}var se={},Tt,ur;function dn(){return ur||(ur=1,Tt=function e(n,g){if(n===g)return!0;if(n&&g&&typeof n=="object"&&typeof g=="object"){if(n.constructor!==g.constructor)return!1;var c,v,o;if(Array.isArray(n)){if(c=n.length,c!=g.length)return!1;for(v=c;v--!==0;)if(!e(n[v],g[v]))return!1;return!0}if(n.constructor===RegExp)return n.source===g.source&&n.flags===g.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===g.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===g.toString();if(o=Object.keys(n),c=o.length,c!==Object.keys(g).length)return!1;for(v=c;v--!==0;)if(!Object.prototype.hasOwnProperty.call(g,o[v]))return!1;for(v=c;v--!==0;){var f=o[v];if(!e(n[f],g[f]))return!1}return!0}return n!==n&&g!==g}),Tt}var qt={exports:{}},cr;function On(){if(cr)return qt.exports;cr=1;var e=qt.exports=function(c,v,o){typeof v=="function"&&(o=v,v={}),o=v.cb||o;var f=typeof o=="function"?o:o.pre||function(){},u=o.post||function(){};n(v,f,u,c,"",c)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(c,v,o,f,u,p,$,y,E,N){if(f&&typeof f=="object"&&!Array.isArray(f)){v(f,u,p,$,y,E,N);for(var P in f){var h=f[P];if(Array.isArray(h)){if(P in e.arrayKeywords)for(var b=0;b<h.length;b++)n(c,v,o,h[b],u+"/"+P+"/"+b,p,u,P,f,b)}else if(P in e.propsKeywords){if(h&&typeof h=="object")for(var r in h)n(c,v,o,h[r],u+"/"+P+"/"+g(r),p,u,P,f,r)}else(P in e.keywords||c.allKeys&&!(P in e.skipKeywords))&&n(c,v,o,h,u+"/"+P,p,u,P,f)}o(f,u,p,$,y,E,N)}}function g(c){return c.replace(/~/g,"~0").replace(/\//g,"~1")}return qt.exports}var lr;function $t(){if(lr)return se;lr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.getSchemaRefs=se.resolveUrl=se.normalizeId=se._getFullPath=se.getFullPath=se.inlineRef=void 0;const e=Q(),n=dn(),g=On(),c=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function v(b,r=!0){return typeof b=="boolean"?!0:r===!0?!f(b):r?u(b)<=r:!1}se.inlineRef=v;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f(b){for(const r in b){if(o.has(r))return!0;const a=b[r];if(Array.isArray(a)&&a.some(f)||typeof a=="object"&&f(a))return!0}return!1}function u(b){let r=0;for(const a in b){if(a==="$ref")return 1/0;if(r++,!c.has(a)&&(typeof b[a]=="object"&&(0,e.eachItem)(b[a],t=>r+=u(t)),r===1/0))return 1/0}return r}function p(b,r="",a){a!==!1&&(r=E(r));const t=b.parse(r);return $(b,t)}se.getFullPath=p;function $(b,r){return b.serialize(r).split("#")[0]+"#"}se._getFullPath=$;const y=/#\/?$/;function E(b){return b?b.replace(y,""):""}se.normalizeId=E;function N(b,r,a){return a=E(a),b.resolve(r,a)}se.resolveUrl=N;const P=/^[a-z_][-a-z0-9._]*$/i;function h(b,r){if(typeof b=="boolean")return{};const{schemaId:a,uriResolver:t}=this.opts,s=E(b[a]||r),l={"":s},m=p(t,s,!1),d={},_=new Set;return g(b,{allKeys:!0},(D,z,L,K)=>{if(K===void 0)return;const W=m+z;let x=l[K];typeof D[a]=="string"&&(x=he.call(this,D[a])),pe.call(this,D.$anchor),pe.call(this,D.$dynamicAnchor),l[z]=x;function he(Z){const ve=this.opts.uriResolver.resolve;if(Z=E(x?ve(x,Z):Z),_.has(Z))throw C(Z);_.add(Z);let A=this.refs[Z];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?j(D,A.schema,Z):Z!==E(W)&&(Z[0]==="#"?(j(D,d[Z],Z),d[Z]=D):this.refs[Z]=W),Z}function pe(Z){if(typeof Z=="string"){if(!P.test(Z))throw new Error(`invalid anchor "${Z}"`);he.call(this,`#${Z}`)}}}),d;function j(D,z,L){if(z!==void 0&&!n(D,z))throw C(L)}function C(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return se.getSchemaRefs=h,se}var dr;function wt(){if(dr)return me;dr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.getData=me.KeywordCxt=me.validateFunctionCode=void 0;const e=Pn(),n=vt(),g=ln(),c=vt(),v=Nn(),o=Rn(),f=kn(),u=G(),p=we(),$=$t(),y=Q(),E=gt();function N(S){if(m(S)&&(_(S),l(S))){r(S);return}P(S,()=>(0,e.topBoolOrEmptySchema)(S))}me.validateFunctionCode=N;function P({gen:S,validateName:k,schema:T,schemaEnv:M,opts:U},J){U.code.es5?S.func(k,(0,u._)`${p.default.data}, ${p.default.valCxt}`,M.$async,()=>{S.code((0,u._)`"use strict"; ${t(T,U)}`),b(S,U),S.code(J)}):S.func(k,(0,u._)`${p.default.data}, ${h(U)}`,M.$async,()=>S.code(t(T,U)).code(J))}function h(S){return(0,u._)`{${p.default.instancePath}="", ${p.default.parentData}, ${p.default.parentDataProperty}, ${p.default.rootData}=${p.default.data}${S.dynamicRef?(0,u._)`, ${p.default.dynamicAnchors}={}`:u.nil}}={}`}function b(S,k){S.if(p.default.valCxt,()=>{S.var(p.default.instancePath,(0,u._)`${p.default.valCxt}.${p.default.instancePath}`),S.var(p.default.parentData,(0,u._)`${p.default.valCxt}.${p.default.parentData}`),S.var(p.default.parentDataProperty,(0,u._)`${p.default.valCxt}.${p.default.parentDataProperty}`),S.var(p.default.rootData,(0,u._)`${p.default.valCxt}.${p.default.rootData}`),k.dynamicRef&&S.var(p.default.dynamicAnchors,(0,u._)`${p.default.valCxt}.${p.default.dynamicAnchors}`)},()=>{S.var(p.default.instancePath,(0,u._)`""`),S.var(p.default.parentData,(0,u._)`undefined`),S.var(p.default.parentDataProperty,(0,u._)`undefined`),S.var(p.default.rootData,p.default.data),k.dynamicRef&&S.var(p.default.dynamicAnchors,(0,u._)`{}`)})}function r(S){const{schema:k,opts:T,gen:M}=S;P(S,()=>{T.$comment&&k.$comment&&K(S),D(S),M.let(p.default.vErrors,null),M.let(p.default.errors,0),T.unevaluated&&a(S),j(S),W(S)})}function a(S){const{gen:k,validateName:T}=S;S.evaluated=k.const("evaluated",(0,u._)`${T}.evaluated`),k.if((0,u._)`${S.evaluated}.dynamicProps`,()=>k.assign((0,u._)`${S.evaluated}.props`,(0,u._)`undefined`)),k.if((0,u._)`${S.evaluated}.dynamicItems`,()=>k.assign((0,u._)`${S.evaluated}.items`,(0,u._)`undefined`))}function t(S,k){const T=typeof S=="object"&&S[k.schemaId];return T&&(k.code.source||k.code.process)?(0,u._)`/*# sourceURL=${T} */`:u.nil}function s(S,k){if(m(S)&&(_(S),l(S))){d(S,k);return}(0,e.boolOrEmptySchema)(S,k)}function l({schema:S,self:k}){if(typeof S=="boolean")return!S;for(const T in S)if(k.RULES.all[T])return!0;return!1}function m(S){return typeof S.schema!="boolean"}function d(S,k){const{schema:T,gen:M,opts:U}=S;U.$comment&&T.$comment&&K(S),z(S),L(S);const J=M.const("_errs",p.default.errors);j(S,J),M.var(k,(0,u._)`${J} === ${p.default.errors}`)}function _(S){(0,y.checkUnknownRules)(S),C(S)}function j(S,k){if(S.opts.jtd)return he(S,[],!1,k);const T=(0,n.getSchemaTypes)(S.schema),M=(0,n.coerceAndCheckDataType)(S,T);he(S,T,!M,k)}function C(S){const{schema:k,errSchemaPath:T,opts:M,self:U}=S;k.$ref&&M.ignoreKeywordsWithRef&&(0,y.schemaHasRulesButRef)(k,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${T}"`)}function D(S){const{schema:k,opts:T}=S;k.default!==void 0&&T.useDefaults&&T.strictSchema&&(0,y.checkStrictMode)(S,"default is ignored in the schema root")}function z(S){const k=S.schema[S.opts.schemaId];k&&(S.baseId=(0,$.resolveUrl)(S.opts.uriResolver,S.baseId,k))}function L(S){if(S.schema.$async&&!S.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:S,schemaEnv:k,schema:T,errSchemaPath:M,opts:U}){const J=T.$comment;if(U.$comment===!0)S.code((0,u._)`${p.default.self}.logger.log(${J})`);else if(typeof U.$comment=="function"){const ee=(0,u.str)`${M}/$comment`,ce=S.scopeValue("root",{ref:k.root});S.code((0,u._)`${p.default.self}.opts.$comment(${J}, ${ee}, ${ce}.schema)`)}}function W(S){const{gen:k,schemaEnv:T,validateName:M,ValidationError:U,opts:J}=S;T.$async?k.if((0,u._)`${p.default.errors} === 0`,()=>k.return(p.default.data),()=>k.throw((0,u._)`new ${U}(${p.default.vErrors})`)):(k.assign((0,u._)`${M}.errors`,p.default.vErrors),J.unevaluated&&x(S),k.return((0,u._)`${p.default.errors} === 0`))}function x({gen:S,evaluated:k,props:T,items:M}){T instanceof u.Name&&S.assign((0,u._)`${k}.props`,T),M instanceof u.Name&&S.assign((0,u._)`${k}.items`,M)}function he(S,k,T,M){const{gen:U,schema:J,data:ee,allErrors:ce,opts:ae,self:oe}=S,{RULES:te}=oe;if(J.$ref&&(ae.ignoreKeywordsWithRef||!(0,y.schemaHasRulesButRef)(J,te))){U.block(()=>V(S,"$ref",te.all.$ref.definition));return}ae.jtd||Z(S,k),U.block(()=>{for(const ue of te.rules)Pe(ue);Pe(te.post)});function Pe(ue){(0,g.shouldUseGroup)(J,ue)&&(ue.type?(U.if((0,c.checkDataType)(ue.type,ee,ae.strictNumbers)),pe(S,ue),k.length===1&&k[0]===ue.type&&T&&(U.else(),(0,c.reportTypeError)(S)),U.endIf()):pe(S,ue),ce||U.if((0,u._)`${p.default.errors} === ${M||0}`))}}function pe(S,k){const{gen:T,schema:M,opts:{useDefaults:U}}=S;U&&(0,v.assignDefaults)(S,k.type),T.block(()=>{for(const J of k.rules)(0,g.shouldUseRule)(M,J)&&V(S,J.keyword,J.definition,k.type)})}function Z(S,k){S.schemaEnv.meta||!S.opts.strictTypes||(ve(S,k),S.opts.allowUnionTypes||A(S,k),R(S,S.dataTypes))}function ve(S,k){if(k.length){if(!S.dataTypes.length){S.dataTypes=k;return}k.forEach(T=>{O(S.dataTypes,T)||w(S,`type "${T}" not allowed by context "${S.dataTypes.join(",")}"`)}),i(S,k)}}function A(S,k){k.length>1&&!(k.length===2&&k.includes("null"))&&w(S,"use allowUnionTypes to allow union type keyword")}function R(S,k){const T=S.self.RULES.all;for(const M in T){const U=T[M];if(typeof U=="object"&&(0,g.shouldUseRule)(S.schema,U)){const{type:J}=U.definition;J.length&&!J.some(ee=>q(k,ee))&&w(S,`missing type "${J.join(",")}" for keyword "${M}"`)}}}function q(S,k){return S.includes(k)||k==="number"&&S.includes("integer")}function O(S,k){return S.includes(k)||k==="integer"&&S.includes("number")}function i(S,k){const T=[];for(const M of S.dataTypes)O(k,M)?T.push(M):k.includes("integer")&&M==="number"&&T.push("integer");S.dataTypes=T}function w(S,k){const T=S.schemaEnv.baseId+S.errSchemaPath;k+=` at "${T}" (strictTypes)`,(0,y.checkStrictMode)(S,k,S.opts.strictTypes)}class I{constructor(k,T,M){if((0,o.validateKeywordUsage)(k,T,M),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=M,this.data=k.data,this.schema=k.schema[M],this.$data=T.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,y.schemaRefOrVal)(k,this.schema,M,this.$data),this.schemaType=T.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=T,this.$data)this.schemaCode=k.gen.const("vSchema",B(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,T.schemaType,T.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(T.schemaType)}`);("code"in T?T.trackErrors:T.errors!==!1)&&(this.errsCount=k.gen.const("_errs",p.default.errors))}result(k,T,M){this.failResult((0,u.not)(k),T,M)}failResult(k,T,M){this.gen.if(k),M?M():this.error(),T?(this.gen.else(),T(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,T){this.failResult((0,u.not)(k),void 0,T)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:T}=this;this.fail((0,u._)`${T} !== undefined && (${(0,u.or)(this.invalid$data(),k)})`)}error(k,T,M){if(T){this.setParams(T),this._error(k,M),this.setParams({});return}this._error(k,M)}_error(k,T){(k?E.reportExtraError:E.reportError)(this,this.def.error,T)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,T){T?Object.assign(this.params,k):this.params=k}block$data(k,T,M=u.nil){this.gen.block(()=>{this.check$data(k,M),T()})}check$data(k=u.nil,T=u.nil){if(!this.$data)return;const{gen:M,schemaCode:U,schemaType:J,def:ee}=this;M.if((0,u.or)((0,u._)`${U} === undefined`,T)),k!==u.nil&&M.assign(k,!0),(J.length||ee.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),k!==u.nil&&M.assign(k,!1)),M.else()}invalid$data(){const{gen:k,schemaCode:T,schemaType:M,def:U,it:J}=this;return(0,u.or)(ee(),ce());function ee(){if(M.length){if(!(T instanceof u.Name))throw new Error("ajv implementation error");const ae=Array.isArray(M)?M:[M];return(0,u._)`${(0,c.checkDataTypes)(ae,T,J.opts.strictNumbers,c.DataType.Wrong)}`}return u.nil}function ce(){if(U.validateSchema){const ae=k.scopeValue("validate$data",{ref:U.validateSchema});return(0,u._)`!${ae}(${T})`}return u.nil}}subschema(k,T){const M=(0,f.getSubschema)(this.it,k);(0,f.extendSubschemaData)(M,this.it,k),(0,f.extendSubschemaMode)(M,k);const U={...this.it,...M,items:void 0,props:void 0};return s(U,T),U}mergeEvaluated(k,T){const{it:M,gen:U}=this;M.opts.unevaluated&&(M.props!==!0&&k.props!==void 0&&(M.props=y.mergeEvaluated.props(U,k.props,M.props,T)),M.items!==!0&&k.items!==void 0&&(M.items=y.mergeEvaluated.items(U,k.items,M.items,T)))}mergeValidEvaluated(k,T){const{it:M,gen:U}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return U.if(T,()=>this.mergeEvaluated(k,u.Name)),!0}}me.KeywordCxt=I;function V(S,k,T,M){const U=new I(S,T,k);"code"in T?T.code(U,M):U.$data&&T.validate?(0,o.funcKeywordCode)(U,T):"macro"in T?(0,o.macroKeywordCode)(U,T):(T.compile||T.validate)&&(0,o.funcKeywordCode)(U,T)}const F=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(S,{dataLevel:k,dataNames:T,dataPathArr:M}){let U,J;if(S==="")return p.default.rootData;if(S[0]==="/"){if(!F.test(S))throw new Error(`Invalid JSON-pointer: ${S}`);U=S,J=p.default.rootData}else{const oe=X.exec(S);if(!oe)throw new Error(`Invalid JSON-pointer: ${S}`);const te=+oe[1];if(U=oe[2],U==="#"){if(te>=k)throw new Error(ae("property/index",te));return M[k-te]}if(te>k)throw new Error(ae("data",te));if(J=T[k-te],!U)return J}let ee=J;const ce=U.split("/");for(const oe of ce)oe&&(J=(0,u._)`${J}${(0,u.getProperty)((0,y.unescapeJsonPointer)(oe))}`,ee=(0,u._)`${ee} && ${J}`);return ee;function ae(oe,te){return`Cannot access ${oe} ${te} levels up, current level is ${k}`}}return me.getData=B,me}var Ae={},fr;function Ut(){if(fr)return Ae;fr=1,Object.defineProperty(Ae,"__esModule",{value:!0});class e extends Error{constructor(g){super("validation failed"),this.errors=g,this.ajv=this.validation=!0}}return Ae.default=e,Ae}var Me={},hr;function bt(){if(hr)return Me;hr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=$t();class n extends Error{constructor(c,v,o,f){super(f||`can't resolve reference ${o} from id ${v}`),this.missingRef=(0,e.resolveUrl)(c,v,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(c,this.missingRef))}}return Me.default=n,Me}var ie={},pr;function Ft(){if(pr)return ie;pr=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.resolveSchema=ie.getCompilingSchema=ie.resolveRef=ie.compileSchema=ie.SchemaEnv=void 0;const e=G(),n=Ut(),g=we(),c=$t(),v=Q(),o=wt();class f{constructor(a){var t;this.refs={},this.dynamicAnchors={};let s;typeof a.schema=="object"&&(s=a.schema),this.schema=a.schema,this.schemaId=a.schemaId,this.root=a.root||this,this.baseId=(t=a.baseId)!==null&&t!==void 0?t:(0,c.normalizeId)(s==null?void 0:s[a.schemaId||"$id"]),this.schemaPath=a.schemaPath,this.localRefs=a.localRefs,this.meta=a.meta,this.$async=s==null?void 0:s.$async,this.refs={}}}ie.SchemaEnv=f;function u(r){const a=y.call(this,r);if(a)return a;const t=(0,c.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:s,lines:l}=this.opts.code,{ownProperties:m}=this.opts,d=new e.CodeGen(this.scope,{es5:s,lines:l,ownProperties:m});let _;r.$async&&(_=d.scopeValue("Error",{ref:n.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=d.scopeName("validate");r.validateName=j;const C={gen:d,allErrors:this.opts.allErrors,data:g.default.data,parentData:g.default.parentData,parentDataProperty:g.default.parentDataProperty,dataNames:[g.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,e.stringify)(r.schema)}:{ref:r.schema}),validateName:j,ValidationError:_,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:e.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(r),(0,o.validateFunctionCode)(C),d.optimize(this.opts.code.optimize);const z=d.toString();D=`${d.scopeRefs(g.default.scope)}return ${z}`,this.opts.code.process&&(D=this.opts.code.process(D,r));const K=new Function(`${g.default.self}`,`${g.default.scope}`,D)(this,this.scope.get());if(this.scope.value(j,{ref:K}),K.errors=null,K.schema=r.schema,K.schemaEnv=r,r.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:j,validateCode:z,scopeValues:d._values}),this.opts.unevaluated){const{props:W,items:x}=C;K.evaluated={props:W instanceof e.Name?void 0:W,items:x instanceof e.Name?void 0:x,dynamicProps:W instanceof e.Name,dynamicItems:x instanceof e.Name},K.source&&(K.source.evaluated=(0,e.stringify)(K.evaluated))}return r.validate=K,r}catch(z){throw delete r.validate,delete r.validateName,D&&this.logger.error("Error compiling schema, function code:",D),z}finally{this._compilations.delete(r)}}ie.compileSchema=u;function p(r,a,t){var s;t=(0,c.resolveUrl)(this.opts.uriResolver,a,t);const l=r.refs[t];if(l)return l;let m=N.call(this,r,t);if(m===void 0){const d=(s=r.localRefs)===null||s===void 0?void 0:s[t],{schemaId:_}=this.opts;d&&(m=new f({schema:d,schemaId:_,root:r,baseId:a}))}if(m!==void 0)return r.refs[t]=$.call(this,m)}ie.resolveRef=p;function $(r){return(0,c.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:u.call(this,r)}function y(r){for(const a of this._compilations)if(E(a,r))return a}ie.getCompilingSchema=y;function E(r,a){return r.schema===a.schema&&r.root===a.root&&r.baseId===a.baseId}function N(r,a){let t;for(;typeof(t=this.refs[a])=="string";)a=t;return t||this.schemas[a]||P.call(this,r,a)}function P(r,a){const t=this.opts.uriResolver.parse(a),s=(0,c._getFullPath)(this.opts.uriResolver,t);let l=(0,c.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&s===l)return b.call(this,t,r);const m=(0,c.normalizeId)(s),d=this.refs[m]||this.schemas[m];if(typeof d=="string"){const _=P.call(this,r,d);return typeof(_==null?void 0:_.schema)!="object"?void 0:b.call(this,t,_)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||u.call(this,d),m===(0,c.normalizeId)(a)){const{schema:_}=d,{schemaId:j}=this.opts,C=_[j];return C&&(l=(0,c.resolveUrl)(this.opts.uriResolver,l,C)),new f({schema:_,schemaId:j,root:r,baseId:l})}return b.call(this,t,d)}}ie.resolveSchema=P;const h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(r,{baseId:a,schema:t,root:s}){var l;if(((l=r.fragment)===null||l===void 0?void 0:l[0])!=="/")return;for(const _ of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const j=t[(0,v.unescapeFragment)(_)];if(j===void 0)return;t=j;const C=typeof t=="object"&&t[this.opts.schemaId];!h.has(_)&&C&&(a=(0,c.resolveUrl)(this.opts.uriResolver,a,C))}let m;if(typeof t!="boolean"&&t.$ref&&!(0,v.schemaHasRulesButRef)(t,this.RULES)){const _=(0,c.resolveUrl)(this.opts.uriResolver,a,t.$ref);m=P.call(this,s,_)}const{schemaId:d}=this.opts;if(m=m||new f({schema:t,schemaId:d,root:s,baseId:a}),m.schema!==m.root.schema)return m}return ie}const jn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",In="Meta-schema for $data reference (JSON AnySchema extension proposal)",Tn="object",qn=["$data"],Cn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},An=!1,Mn={$id:jn,description:In,type:Tn,required:qn,properties:Cn,additionalProperties:An};var De={},Ie={exports:{}},Ct,mr;function Dn(){return mr||(mr=1,Ct={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Ct}var At,yr;function Vn(){if(yr)return At;yr=1;const{HEX:e}=Dn();function n(h){if(f(h,".")<3)return{host:h,isIPV4:!1};const b=h.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=b;return r?{host:o(r,"."),isIPV4:!0}:{host:h,isIPV4:!1}}function g(h,b=!1){let r="",a=!0;for(const t of h){if(e[t]===void 0)return;t!=="0"&&a===!0&&(a=!1),a||(r+=t)}return b&&r.length===0&&(r="0"),r}function c(h){let b=0;const r={error:!1,address:"",zone:""},a=[],t=[];let s=!1,l=!1,m=!1;function d(){if(t.length){if(s===!1){const _=g(t);if(_!==void 0)a.push(_);else return r.error=!0,!1}t.length=0}return!0}for(let _=0;_<h.length;_++){const j=h[_];if(!(j==="["||j==="]"))if(j===":"){if(l===!0&&(m=!0),!d())break;if(b++,a.push(":"),b>7){r.error=!0;break}_-1>=0&&h[_-1]===":"&&(l=!0);continue}else if(j==="%"){if(!d())break;s=!0}else{t.push(j);continue}}return t.length&&(s?r.zone=t.join(""):m?a.push(t.join("")):a.push(g(t))),r.address=a.join(""),r}function v(h,b={}){if(f(h,":")<2)return{host:h,isIPV6:!1};const r=c(h);if(r.error)return{host:h,isIPV6:!1};{let a=r.address,t=r.address;return r.zone&&(a+="%"+r.zone,t+="%25"+r.zone),{host:a,escapedHost:t,isIPV6:!0}}}function o(h,b){let r="",a=!0;const t=h.length;for(let s=0;s<t;s++){const l=h[s];l==="0"&&a?(s+1<=t&&h[s+1]===b||s+1===t)&&(r+=l,a=!1):(l===b?a=!0:a=!1,r+=l)}return r}function f(h,b){let r=0;for(let a=0;a<h.length;a++)h[a]===b&&r++;return r}const u=/^\.\.?\//u,p=/^\/\.(?:\/|$)/u,$=/^\/\.\.(?:\/|$)/u,y=/^\/?(?:.|\n)*?(?=\/|$)/u;function E(h){const b=[];for(;h.length;)if(h.match(u))h=h.replace(u,"");else if(h.match(p))h=h.replace(p,"/");else if(h.match($))h=h.replace($,"/"),b.pop();else if(h==="."||h==="..")h="";else{const r=h.match(y);if(r){const a=r[0];h=h.slice(a.length),b.push(a)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function N(h,b){const r=b!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=r(h.scheme)),h.userinfo!==void 0&&(h.userinfo=r(h.userinfo)),h.host!==void 0&&(h.host=r(h.host)),h.path!==void 0&&(h.path=r(h.path)),h.query!==void 0&&(h.query=r(h.query)),h.fragment!==void 0&&(h.fragment=r(h.fragment)),h}function P(h,b){const r=[];if(h.userinfo!==void 0&&(r.push(h.userinfo),r.push("@")),h.host!==void 0){let a=unescape(h.host);const t=n(a);if(t.isIPV4)a=t.host;else{const s=v(t.host,{isIPV4:!1});s.isIPV6===!0?a=`[${s.escapedHost}]`:a=h.host}r.push(a)}return(typeof h.port=="number"||typeof h.port=="string")&&(r.push(":"),r.push(String(h.port))),r.length?r.join(""):void 0}return At={recomposeAuthority:P,normalizeComponentEncoding:N,removeDotSegments:E,normalizeIPv4:n,normalizeIPv6:v,stringArrayToHexStripped:g},At}var Mt,_r;function zn(){if(_r)return Mt;_r=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function g(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function c(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function v(t){const s=String(t.scheme).toLowerCase()==="https";return(t.port===(s?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function o(t){return t.secure=g(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function f(t){if((t.port===(g(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[s,l]=t.resourceName.split("?");t.path=s&&s!=="/"?s:void 0,t.query=l,t.resourceName=void 0}return t.fragment=void 0,t}function u(t,s){if(!t.path)return t.error="URN can not be parsed",t;const l=t.path.match(n);if(l){const m=s.scheme||t.scheme||"urn";t.nid=l[1].toLowerCase(),t.nss=l[2];const d=`${m}:${s.nid||t.nid}`,_=a[d];t.path=void 0,_&&(t=_.parse(t,s))}else t.error=t.error||"URN can not be parsed.";return t}function p(t,s){const l=s.scheme||t.scheme||"urn",m=t.nid.toLowerCase(),d=`${l}:${s.nid||m}`,_=a[d];_&&(t=_.serialize(t,s));const j=t,C=t.nss;return j.path=`${m||s.nid}:${C}`,s.skipEscape=!0,j}function $(t,s){const l=t;return l.uuid=l.nss,l.nss=void 0,!s.tolerant&&(!l.uuid||!e.test(l.uuid))&&(l.error=l.error||"UUID is not valid."),l}function y(t){const s=t;return s.nss=(t.uuid||"").toLowerCase(),s}const E={scheme:"http",domainHost:!0,parse:c,serialize:v},N={scheme:"https",domainHost:E.domainHost,parse:c,serialize:v},P={scheme:"ws",domainHost:!0,parse:o,serialize:f},h={scheme:"wss",domainHost:P.domainHost,parse:P.parse,serialize:P.serialize},a={http:E,https:N,ws:P,wss:h,urn:{scheme:"urn",parse:u,serialize:p,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:$,serialize:y,skipNormalize:!0}};return Mt=a,Mt}var vr;function Un(){if(vr)return Ie.exports;vr=1;const{normalizeIPv6:e,normalizeIPv4:n,removeDotSegments:g,recomposeAuthority:c,normalizeComponentEncoding:v}=Vn(),o=zn();function f(r,a){return typeof r=="string"?r=y(h(r,a),a):typeof r=="object"&&(r=h(y(r,a),a)),r}function u(r,a,t){const s=Object.assign({scheme:"null"},t),l=p(h(r,s),h(a,s),s,!0);return y(l,{...s,skipEscape:!0})}function p(r,a,t,s){const l={};return s||(r=h(y(r,t),t),a=h(y(a,t),t)),t=t||{},!t.tolerant&&a.scheme?(l.scheme=a.scheme,l.userinfo=a.userinfo,l.host=a.host,l.port=a.port,l.path=g(a.path||""),l.query=a.query):(a.userinfo!==void 0||a.host!==void 0||a.port!==void 0?(l.userinfo=a.userinfo,l.host=a.host,l.port=a.port,l.path=g(a.path||""),l.query=a.query):(a.path?(a.path.charAt(0)==="/"?l.path=g(a.path):((r.userinfo!==void 0||r.host!==void 0||r.port!==void 0)&&!r.path?l.path="/"+a.path:r.path?l.path=r.path.slice(0,r.path.lastIndexOf("/")+1)+a.path:l.path=a.path,l.path=g(l.path)),l.query=a.query):(l.path=r.path,a.query!==void 0?l.query=a.query:l.query=r.query),l.userinfo=r.userinfo,l.host=r.host,l.port=r.port),l.scheme=r.scheme),l.fragment=a.fragment,l}function $(r,a,t){return typeof r=="string"?(r=unescape(r),r=y(v(h(r,t),!0),{...t,skipEscape:!0})):typeof r=="object"&&(r=y(v(r,!0),{...t,skipEscape:!0})),typeof a=="string"?(a=unescape(a),a=y(v(h(a,t),!0),{...t,skipEscape:!0})):typeof a=="object"&&(a=y(v(a,!0),{...t,skipEscape:!0})),r.toLowerCase()===a.toLowerCase()}function y(r,a){const t={host:r.host,scheme:r.scheme,userinfo:r.userinfo,port:r.port,path:r.path,query:r.query,nid:r.nid,nss:r.nss,uuid:r.uuid,fragment:r.fragment,reference:r.reference,resourceName:r.resourceName,secure:r.secure,error:""},s=Object.assign({},a),l=[],m=o[(s.scheme||t.scheme||"").toLowerCase()];m&&m.serialize&&m.serialize(t,s),t.path!==void 0&&(s.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),s.reference!=="suffix"&&t.scheme&&l.push(t.scheme,":");const d=c(t,s);if(d!==void 0&&(s.reference!=="suffix"&&l.push("//"),l.push(d),t.path&&t.path.charAt(0)!=="/"&&l.push("/")),t.path!==void 0){let _=t.path;!s.absolutePath&&(!m||!m.absolutePath)&&(_=g(_)),d===void 0&&(_=_.replace(/^\/\//u,"/%2F")),l.push(_)}return t.query!==void 0&&l.push("?",t.query),t.fragment!==void 0&&l.push("#",t.fragment),l.join("")}const E=Array.from({length:127},(r,a)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(a)));function N(r){let a=0;for(let t=0,s=r.length;t<s;++t)if(a=r.charCodeAt(t),a>126||E[a])return!0;return!1}const P=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function h(r,a){const t=Object.assign({},a),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},l=r.indexOf("%")!==-1;let m=!1;t.reference==="suffix"&&(r=(t.scheme?t.scheme+":":"")+"//"+r);const d=r.match(P);if(d){if(s.scheme=d[1],s.userinfo=d[3],s.host=d[4],s.port=parseInt(d[5],10),s.path=d[6]||"",s.query=d[7],s.fragment=d[8],isNaN(s.port)&&(s.port=d[5]),s.host){const j=n(s.host);if(j.isIPV4===!1){const C=e(j.host,{isIPV4:!1});s.host=C.host.toLowerCase(),m=C.isIPV6}else s.host=j.host,m=!0}s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&!s.path&&s.query===void 0?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==s.reference&&(s.error=s.error||"URI is not a "+t.reference+" reference.");const _=o[(t.scheme||s.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!_||!_.unicodeSupport)&&s.host&&(t.domainHost||_&&_.domainHost)&&m===!1&&N(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(j){s.error=s.error||"Host's domain name can not be converted to ASCII: "+j}(!_||_&&!_.skipNormalize)&&(l&&s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),l&&s.host!==void 0&&(s.host=unescape(s.host)),s.path!==void 0&&s.path.length&&(s.path=escape(unescape(s.path))),s.fragment!==void 0&&s.fragment.length&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),_&&_.parse&&_.parse(s,t)}else s.error=s.error||"URI can not be parsed.";return s}const b={SCHEMES:o,normalize:f,resolve:u,resolveComponents:p,equal:$,serialize:y,parse:h};return Ie.exports=b,Ie.exports.default=b,Ie.exports.fastUri=b,Ie.exports}var gr;function Fn(){if(gr)return De;gr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=Un();return e.code='require("ajv/dist/runtime/uri").default',De.default=e,De}var $r;function Kn(){return $r||($r=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var n=wt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var g=G();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});const c=Ut(),v=bt(),o=cn(),f=Ft(),u=G(),p=$t(),$=vt(),y=Q(),E=Mn,N=Fn(),P=(A,R)=>new RegExp(A,R);P.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),r={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},a={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function s(A){var R,q,O,i,w,I,V,F,X,B,S,k,T,M,U,J,ee,ce,ae,oe,te,Pe,ue,Et,St;const Oe=A.strict,Pt=(R=A.code)===null||R===void 0?void 0:R.optimize,Ht=Pt===!0||Pt===void 0?1:Pt||0,Jt=(O=(q=A.code)===null||q===void 0?void 0:q.regExp)!==null&&O!==void 0?O:P,mn=(i=A.uriResolver)!==null&&i!==void 0?i:N.default;return{strictSchema:(I=(w=A.strictSchema)!==null&&w!==void 0?w:Oe)!==null&&I!==void 0?I:!0,strictNumbers:(F=(V=A.strictNumbers)!==null&&V!==void 0?V:Oe)!==null&&F!==void 0?F:!0,strictTypes:(B=(X=A.strictTypes)!==null&&X!==void 0?X:Oe)!==null&&B!==void 0?B:"log",strictTuples:(k=(S=A.strictTuples)!==null&&S!==void 0?S:Oe)!==null&&k!==void 0?k:"log",strictRequired:(M=(T=A.strictRequired)!==null&&T!==void 0?T:Oe)!==null&&M!==void 0?M:!1,code:A.code?{...A.code,optimize:Ht,regExp:Jt}:{optimize:Ht,regExp:Jt},loopRequired:(U=A.loopRequired)!==null&&U!==void 0?U:t,loopEnum:(J=A.loopEnum)!==null&&J!==void 0?J:t,meta:(ee=A.meta)!==null&&ee!==void 0?ee:!0,messages:(ce=A.messages)!==null&&ce!==void 0?ce:!0,inlineRefs:(ae=A.inlineRefs)!==null&&ae!==void 0?ae:!0,schemaId:(oe=A.schemaId)!==null&&oe!==void 0?oe:"$id",addUsedSchema:(te=A.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(Pe=A.validateSchema)!==null&&Pe!==void 0?Pe:!0,validateFormats:(ue=A.validateFormats)!==null&&ue!==void 0?ue:!0,unicodeRegExp:(Et=A.unicodeRegExp)!==null&&Et!==void 0?Et:!0,int32range:(St=A.int32range)!==null&&St!==void 0?St:!0,uriResolver:mn}}class l{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...s(R)};const{es5:q,lines:O}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:b,es5:q,lines:O}),this.logger=L(R.logger);const i=R.validateFormats;R.validateFormats=!1,this.RULES=(0,o.getRules)(),m.call(this,r,R,"NOT SUPPORTED"),m.call(this,a,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&C.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),_.call(this),R.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:q,schemaId:O}=this.opts;let i=E;O==="id"&&(i={...E},i.id=i.$id,delete i.$id),q&&R&&this.addMetaSchema(i,i[O],!1)}defaultMeta(){const{meta:R,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[q]||R:void 0}validate(R,q){let O;if(typeof R=="string"){if(O=this.getSchema(R),!O)throw new Error(`no schema with key or ref "${R}"`)}else O=this.compile(R);const i=O(q);return"$async"in O||(this.errors=O.errors),i}compile(R,q){const O=this._addSchema(R,q);return O.validate||this._compileSchemaEnv(O)}compileAsync(R,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return i.call(this,R,q);async function i(B,S){await w.call(this,B.$schema);const k=this._addSchema(B,S);return k.validate||I.call(this,k)}async function w(B){B&&!this.getSchema(B)&&await i.call(this,{$ref:B},!0)}async function I(B){try{return this._compileSchemaEnv(B)}catch(S){if(!(S instanceof v.default))throw S;return V.call(this,S),await F.call(this,S.missingSchema),I.call(this,B)}}function V({missingSchema:B,missingRef:S}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${S} cannot be resolved`)}async function F(B){const S=await X.call(this,B);this.refs[B]||await w.call(this,S.$schema),this.refs[B]||this.addSchema(S,B,q)}async function X(B){const S=this._loading[B];if(S)return S;try{return await(this._loading[B]=O(B))}finally{delete this._loading[B]}}}addSchema(R,q,O,i=this.opts.validateSchema){if(Array.isArray(R)){for(const I of R)this.addSchema(I,void 0,O,i);return this}let w;if(typeof R=="object"){const{schemaId:I}=this.opts;if(w=R[I],w!==void 0&&typeof w!="string")throw new Error(`schema ${I} must be string`)}return q=(0,p.normalizeId)(q||w),this._checkUnique(q),this.schemas[q]=this._addSchema(R,O,q,i,!0),this}addMetaSchema(R,q,O=this.opts.validateSchema){return this.addSchema(R,q,!0,O),this}validateSchema(R,q){if(typeof R=="boolean")return!0;let O;if(O=R.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(O,R);if(!i&&q){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return i}getSchema(R){let q;for(;typeof(q=d.call(this,R))=="string";)R=q;if(q===void 0){const{schemaId:O}=this.opts,i=new f.SchemaEnv({schema:{},schemaId:O});if(q=f.resolveSchema.call(this,i,R),!q)return;this.refs[R]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=d.call(this,R);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const q=R;this._cache.delete(q);let O=R[this.opts.schemaId];return O&&(O=(0,p.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const q of R)this.addKeyword(q);return this}addKeyword(R,q){let O;if(typeof R=="string")O=R,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=O);else if(typeof R=="object"&&q===void 0){if(q=R,O=q.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,O,q),!q)return(0,y.eachItem)(O,w=>x.call(this,w)),this;pe.call(this,q);const i={...q,type:(0,$.getJSONTypes)(q.type),schemaType:(0,$.getJSONTypes)(q.schemaType)};return(0,y.eachItem)(O,i.type.length===0?w=>x.call(this,w,i):w=>i.type.forEach(I=>x.call(this,w,i,I))),this}getKeyword(R){const q=this.RULES.all[R];return typeof q=="object"?q.definition:!!q}removeKeyword(R){const{RULES:q}=this;delete q.keywords[R],delete q.all[R];for(const O of q.rules){const i=O.rules.findIndex(w=>w.keyword===R);i>=0&&O.rules.splice(i,1)}return this}addFormat(R,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[R]=q,this}errorsText(R=this.errors,{separator:q=", ",dataVar:O="data"}={}){return!R||R.length===0?"No errors":R.map(i=>`${O}${i.instancePath} ${i.message}`).reduce((i,w)=>i+q+w)}$dataMetaSchema(R,q){const O=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const i of q){const w=i.split("/").slice(1);let I=R;for(const V of w)I=I[V];for(const V in O){const F=O[V];if(typeof F!="object")continue;const{$data:X}=F.definition,B=I[V];X&&B&&(I[V]=ve(B))}}return R}_removeAllSchemas(R,q){for(const O in R){const i=R[O];(!q||q.test(O))&&(typeof i=="string"?delete R[O]:i&&!i.meta&&(this._cache.delete(i.schema),delete R[O]))}}_addSchema(R,q,O,i=this.opts.validateSchema,w=this.opts.addUsedSchema){let I;const{schemaId:V}=this.opts;if(typeof R=="object")I=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(R);if(F!==void 0)return F;O=(0,p.normalizeId)(I||O);const X=p.getSchemaRefs.call(this,R,O);return F=new f.SchemaEnv({schema:R,schemaId:V,meta:q,baseId:O,localRefs:X}),this._cache.set(F.schema,F),w&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=F),i&&this.validateSchema(R,!0),F}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):f.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const q=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,R)}finally{this.opts=q}}}l.ValidationError=c.default,l.MissingRefError=v.default,e.default=l;function m(A,R,q,O="error"){for(const i in A){const w=i;w in R&&this.logger[O](`${q}: option ${i}. ${A[w]}`)}}function d(A){return A=(0,p.normalizeId)(A),this.schemas[A]||this.refs[A]}function _(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function j(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function C(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const q=A[R];q.keyword||(q.keyword=R),this.addKeyword(q)}}function D(){const A={...this.opts};for(const R of h)delete A[R];return A}const z={log(){},warn(){},error(){}};function L(A){if(A===!1)return z;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function W(A,R){const{RULES:q}=this;if((0,y.eachItem)(A,O=>{if(q.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!K.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(A,R,q){var O;const i=R==null?void 0:R.post;if(q&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let I=i?w.post:w.rules.find(({type:F})=>F===q);if(I||(I={type:q,rules:[]},w.rules.push(I)),w.keywords[A]=!0,!R)return;const V={keyword:A,definition:{...R,type:(0,$.getJSONTypes)(R.type),schemaType:(0,$.getJSONTypes)(R.schemaType)}};R.before?he.call(this,I,V,R.before):I.rules.push(V),w.all[A]=V,(O=R.implements)===null||O===void 0||O.forEach(F=>this.addKeyword(F))}function he(A,R,q){const O=A.rules.findIndex(i=>i.keyword===q);O>=0?A.rules.splice(O,0,R):(A.rules.push(R),this.logger.warn(`rule ${q} is not defined`))}function pe(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=ve(R)),A.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ve(A){return{anyOf:[A,Z]}}}(Rt)),Rt}var Ve={},ze={},Ue={},wr;function Ln(){if(wr)return Ue;wr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ue.default=e,Ue}var ge={},br;function Hn(){if(br)return ge;br=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.callRef=ge.getValidate=void 0;const e=bt(),n=fe(),g=G(),c=we(),v=Ft(),o=Q(),f={keyword:"$ref",schemaType:"string",code($){const{gen:y,schema:E,it:N}=$,{baseId:P,schemaEnv:h,validateName:b,opts:r,self:a}=N,{root:t}=h;if((E==="#"||E==="#/")&&P===t.baseId)return l();const s=v.resolveRef.call(a,t,P,E);if(s===void 0)throw new e.default(N.opts.uriResolver,P,E);if(s instanceof v.SchemaEnv)return m(s);return d(s);function l(){if(h===t)return p($,b,h,h.$async);const _=y.scopeValue("root",{ref:t});return p($,(0,g._)`${_}.validate`,t,t.$async)}function m(_){const j=u($,_);p($,j,_,_.$async)}function d(_){const j=y.scopeValue("schema",r.code.source===!0?{ref:_,code:(0,g.stringify)(_)}:{ref:_}),C=y.name("valid"),D=$.subschema({schema:_,dataTypes:[],schemaPath:g.nil,topSchemaRef:j,errSchemaPath:E},C);$.mergeEvaluated(D),$.ok(C)}}};function u($,y){const{gen:E}=$;return y.validate?E.scopeValue("validate",{ref:y.validate}):(0,g._)`${E.scopeValue("wrapper",{ref:y})}.validate`}ge.getValidate=u;function p($,y,E,N){const{gen:P,it:h}=$,{allErrors:b,schemaEnv:r,opts:a}=h,t=a.passContext?c.default.this:g.nil;N?s():l();function s(){if(!r.$async)throw new Error("async schema referenced by sync schema");const _=P.let("valid");P.try(()=>{P.code((0,g._)`await ${(0,n.callValidateCode)($,y,t)}`),d(y),b||P.assign(_,!0)},j=>{P.if((0,g._)`!(${j} instanceof ${h.ValidationError})`,()=>P.throw(j)),m(j),b||P.assign(_,!1)}),$.ok(_)}function l(){$.result((0,n.callValidateCode)($,y,t),()=>d(y),()=>m(y))}function m(_){const j=(0,g._)`${_}.errors`;P.assign(c.default.vErrors,(0,g._)`${c.default.vErrors} === null ? ${j} : ${c.default.vErrors}.concat(${j})`),P.assign(c.default.errors,(0,g._)`${c.default.vErrors}.length`)}function d(_){var j;if(!h.opts.unevaluated)return;const C=(j=E==null?void 0:E.validate)===null||j===void 0?void 0:j.evaluated;if(h.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(h.props=o.mergeEvaluated.props(P,C.props,h.props));else{const D=P.var("props",(0,g._)`${_}.evaluated.props`);h.props=o.mergeEvaluated.props(P,D,h.props,g.Name)}if(h.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(h.items=o.mergeEvaluated.items(P,C.items,h.items));else{const D=P.var("items",(0,g._)`${_}.evaluated.items`);h.items=o.mergeEvaluated.items(P,D,h.items,g.Name)}}}return ge.callRef=p,ge.default=f,ge}var Er;function Jn(){if(Er)return ze;Er=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=Ln(),n=Hn(),g=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,n.default];return ze.default=g,ze}var Fe={},Ke={},Sr;function Gn(){if(Sr)return Ke;Sr=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=G(),n=e.operators,g={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},c={message:({keyword:o,schemaCode:f})=>(0,e.str)`must be ${g[o].okStr} ${f}`,params:({keyword:o,schemaCode:f})=>(0,e._)`{comparison: ${g[o].okStr}, limit: ${f}}`},v={keyword:Object.keys(g),type:"number",schemaType:"number",$data:!0,error:c,code(o){const{keyword:f,data:u,schemaCode:p}=o;o.fail$data((0,e._)`${u} ${g[f].fail} ${p} || isNaN(${u})`)}};return Ke.default=v,Ke}var Le={},Pr;function Bn(){if(Pr)return Le;Pr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=G(),g={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must be multiple of ${c}`,params:({schemaCode:c})=>(0,e._)`{multipleOf: ${c}}`},code(c){const{gen:v,data:o,schemaCode:f,it:u}=c,p=u.opts.multipleOfPrecision,$=v.let("res"),y=p?(0,e._)`Math.abs(Math.round(${$}) - ${$}) > 1e-${p}`:(0,e._)`${$} !== parseInt(${$})`;c.fail$data((0,e._)`(${f} === 0 || (${$} = ${o}/${f}, ${y}))`)}};return Le.default=g,Le}var He={},Je={},Nr;function Wn(){if(Nr)return Je;Nr=1,Object.defineProperty(Je,"__esModule",{value:!0});function e(n){const g=n.length;let c=0,v=0,o;for(;v<g;)c++,o=n.charCodeAt(v++),o>=55296&&o<=56319&&v<g&&(o=n.charCodeAt(v),(o&64512)===56320&&v++);return c}return Je.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Je}var Rr;function Qn(){if(Rr)return He;Rr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=G(),n=Q(),g=Wn(),v={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:f}){const u=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${f} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:f,data:u,schemaCode:p,it:$}=o,y=f==="maxLength"?e.operators.GT:e.operators.LT,E=$.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,n.useFunc)(o.gen,g.default)}(${u})`;o.fail$data((0,e._)`${E} ${y} ${p}`)}};return He.default=v,He}var Ge={},kr;function Xn(){if(kr)return Ge;kr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=fe(),n=G(),c={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:v})=>(0,n.str)`must match pattern "${v}"`,params:({schemaCode:v})=>(0,n._)`{pattern: ${v}}`},code(v){const{data:o,$data:f,schema:u,schemaCode:p,it:$}=v,y=$.opts.unicodeRegExp?"u":"",E=f?(0,n._)`(new RegExp(${p}, ${y}))`:(0,e.usePattern)(v,u);v.fail$data((0,n._)`!${E}.test(${o})`)}};return Ge.default=c,Ge}var Be={},Or;function Yn(){if(Or)return Be;Or=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=G(),g={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:v}){const o=c==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${v} properties`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:v,data:o,schemaCode:f}=c,u=v==="maxProperties"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`Object.keys(${o}).length ${u} ${f}`)}};return Be.default=g,Be}var We={},jr;function Zn(){if(jr)return We;jr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=fe(),n=G(),g=Q(),v={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,n.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,n._)`{missingProperty: ${o}}`},code(o){const{gen:f,schema:u,schemaCode:p,data:$,$data:y,it:E}=o,{opts:N}=E;if(!y&&u.length===0)return;const P=u.length>=N.loopRequired;if(E.allErrors?h():b(),N.strictRequired){const t=o.parentSchema.properties,{definedProperties:s}=o.it;for(const l of u)if((t==null?void 0:t[l])===void 0&&!s.has(l)){const m=E.schemaEnv.baseId+E.errSchemaPath,d=`required property "${l}" is not defined at "${m}" (strictRequired)`;(0,g.checkStrictMode)(E,d,E.opts.strictRequired)}}function h(){if(P||y)o.block$data(n.nil,r);else for(const t of u)(0,e.checkReportMissingProp)(o,t)}function b(){const t=f.let("missing");if(P||y){const s=f.let("valid",!0);o.block$data(s,()=>a(t,s)),o.ok(s)}else f.if((0,e.checkMissingProp)(o,u,t)),(0,e.reportMissingProp)(o,t),f.else()}function r(){f.forOf("prop",p,t=>{o.setParams({missingProperty:t}),f.if((0,e.noPropertyInData)(f,$,t,N.ownProperties),()=>o.error())})}function a(t,s){o.setParams({missingProperty:t}),f.forOf(t,p,()=>{f.assign(s,(0,e.propertyInData)(f,$,t,N.ownProperties)),f.if((0,n.not)(s),()=>{o.error(),f.break()})},n.nil)}}};return We.default=v,We}var Qe={},Ir;function xn(){if(Ir)return Qe;Ir=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=G(),g={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:c,schemaCode:v}){const o=c==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${v} items`},params:({schemaCode:c})=>(0,e._)`{limit: ${c}}`},code(c){const{keyword:v,data:o,schemaCode:f}=c,u=v==="maxItems"?e.operators.GT:e.operators.LT;c.fail$data((0,e._)`${o}.length ${u} ${f}`)}};return Qe.default=g,Qe}var Xe={},Ye={},Tr;function Kt(){if(Tr)return Ye;Tr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=dn();return e.code='require("ajv/dist/runtime/equal").default',Ye.default=e,Ye}var qr;function es(){if(qr)return Xe;qr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=vt(),n=G(),g=Q(),c=Kt(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:f,j:u}})=>(0,n.str)`must NOT have duplicate items (items ## ${u} and ${f} are identical)`,params:({params:{i:f,j:u}})=>(0,n._)`{i: ${f}, j: ${u}}`},code(f){const{gen:u,data:p,$data:$,schema:y,parentSchema:E,schemaCode:N,it:P}=f;if(!$&&!y)return;const h=u.let("valid"),b=E.items?(0,e.getSchemaTypes)(E.items):[];f.block$data(h,r,(0,n._)`${N} === false`),f.ok(h);function r(){const l=u.let("i",(0,n._)`${p}.length`),m=u.let("j");f.setParams({i:l,j:m}),u.assign(h,!0),u.if((0,n._)`${l} > 1`,()=>(a()?t:s)(l,m))}function a(){return b.length>0&&!b.some(l=>l==="object"||l==="array")}function t(l,m){const d=u.name("item"),_=(0,e.checkDataTypes)(b,d,P.opts.strictNumbers,e.DataType.Wrong),j=u.const("indices",(0,n._)`{}`);u.for((0,n._)`;${l}--;`,()=>{u.let(d,(0,n._)`${p}[${l}]`),u.if(_,(0,n._)`continue`),b.length>1&&u.if((0,n._)`typeof ${d} == "string"`,(0,n._)`${d} += "_"`),u.if((0,n._)`typeof ${j}[${d}] == "number"`,()=>{u.assign(m,(0,n._)`${j}[${d}]`),f.error(),u.assign(h,!1).break()}).code((0,n._)`${j}[${d}] = ${l}`)})}function s(l,m){const d=(0,g.useFunc)(u,c.default),_=u.name("outer");u.label(_).for((0,n._)`;${l}--;`,()=>u.for((0,n._)`${m} = ${l}; ${m}--;`,()=>u.if((0,n._)`${d}(${p}[${l}], ${p}[${m}])`,()=>{f.error(),u.assign(h,!1).break(_)})))}}};return Xe.default=o,Xe}var Ze={},Cr;function ts(){if(Cr)return Ze;Cr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=G(),n=Q(),g=Kt(),v={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:f,data:u,$data:p,schemaCode:$,schema:y}=o;p||y&&typeof y=="object"?o.fail$data((0,e._)`!${(0,n.useFunc)(f,g.default)}(${u}, ${$})`):o.fail((0,e._)`${y} !== ${u}`)}};return Ze.default=v,Ze}var xe={},Ar;function rs(){if(Ar)return xe;Ar=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=G(),n=Q(),g=Kt(),v={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:f,data:u,$data:p,schema:$,schemaCode:y,it:E}=o;if(!p&&$.length===0)throw new Error("enum must have non-empty array");const N=$.length>=E.opts.loopEnum;let P;const h=()=>P??(P=(0,n.useFunc)(f,g.default));let b;if(N||p)b=f.let("valid"),o.block$data(b,r);else{if(!Array.isArray($))throw new Error("ajv implementation error");const t=f.const("vSchema",y);b=(0,e.or)(...$.map((s,l)=>a(t,l)))}o.pass(b);function r(){f.assign(b,!1),f.forOf("v",y,t=>f.if((0,e._)`${h()}(${u}, ${t})`,()=>f.assign(b,!0).break()))}function a(t,s){const l=$[s];return typeof l=="object"&&l!==null?(0,e._)`${h()}(${u}, ${t}[${s}])`:(0,e._)`${u} === ${l}`}}};return xe.default=v,xe}var Mr;function ns(){if(Mr)return Fe;Mr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=Gn(),n=Bn(),g=Qn(),c=Xn(),v=Yn(),o=Zn(),f=xn(),u=es(),p=ts(),$=rs(),y=[e.default,n.default,g.default,c.default,v.default,o.default,f.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},p.default,$.default];return Fe.default=y,Fe}var et={},Ne={},Dr;function fn(){if(Dr)return Ne;Dr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateAdditionalItems=void 0;const e=G(),n=Q(),c={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:f,it:u}=o,{items:p}=f;if(!Array.isArray(p)){(0,n.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}v(o,p)}};function v(o,f){const{gen:u,schema:p,data:$,keyword:y,it:E}=o;E.items=!0;const N=u.const("len",(0,e._)`${$}.length`);if(p===!1)o.setParams({len:f.length}),o.pass((0,e._)`${N} <= ${f.length}`);else if(typeof p=="object"&&!(0,n.alwaysValidSchema)(E,p)){const h=u.var("valid",(0,e._)`${N} <= ${f.length}`);u.if((0,e.not)(h),()=>P(h)),o.ok(h)}function P(h){u.forRange("i",f.length,N,b=>{o.subschema({keyword:y,dataProp:b,dataPropType:n.Type.Num},h),E.allErrors||u.if((0,e.not)(h),()=>u.break())})}}return Ne.validateAdditionalItems=v,Ne.default=c,Ne}var tt={},Re={},Vr;function hn(){if(Vr)return Re;Vr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.validateTuple=void 0;const e=G(),n=Q(),g=fe(),c={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:f,it:u}=o;if(Array.isArray(f))return v(o,"additionalItems",f);u.items=!0,!(0,n.alwaysValidSchema)(u,f)&&o.ok((0,g.validateArray)(o))}};function v(o,f,u=o.schema){const{gen:p,parentSchema:$,data:y,keyword:E,it:N}=o;b($),N.opts.unevaluated&&u.length&&N.items!==!0&&(N.items=n.mergeEvaluated.items(p,u.length,N.items));const P=p.name("valid"),h=p.const("len",(0,e._)`${y}.length`);u.forEach((r,a)=>{(0,n.alwaysValidSchema)(N,r)||(p.if((0,e._)`${h} > ${a}`,()=>o.subschema({keyword:E,schemaProp:a,dataProp:a},P)),o.ok(P))});function b(r){const{opts:a,errSchemaPath:t}=N,s=u.length,l=s===r.minItems&&(s===r.maxItems||r[f]===!1);if(a.strictTuples&&!l){const m=`"${E}" is ${s}-tuple, but minItems or maxItems/${f} are not specified or different at path "${t}"`;(0,n.checkStrictMode)(N,m,a.strictTuples)}}}return Re.validateTuple=v,Re.default=c,Re}var zr;function ss(){if(zr)return tt;zr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=hn(),n={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:g=>(0,e.validateTuple)(g,"items")};return tt.default=n,tt}var rt={},Ur;function as(){if(Ur)return rt;Ur=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=G(),n=Q(),g=fe(),c=fn(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:f}})=>(0,e.str)`must NOT have more than ${f} items`,params:({params:{len:f}})=>(0,e._)`{limit: ${f}}`},code(f){const{schema:u,parentSchema:p,it:$}=f,{prefixItems:y}=p;$.items=!0,!(0,n.alwaysValidSchema)($,u)&&(y?(0,c.validateAdditionalItems)(f,y):f.ok((0,g.validateArray)(f)))}};return rt.default=o,rt}var nt={},Fr;function os(){if(Fr)return nt;Fr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=G(),n=Q(),c={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:v,max:o}})=>o===void 0?(0,e.str)`must contain at least ${v} valid item(s)`:(0,e.str)`must contain at least ${v} and no more than ${o} valid item(s)`,params:({params:{min:v,max:o}})=>o===void 0?(0,e._)`{minContains: ${v}}`:(0,e._)`{minContains: ${v}, maxContains: ${o}}`},code(v){const{gen:o,schema:f,parentSchema:u,data:p,it:$}=v;let y,E;const{minContains:N,maxContains:P}=u;$.opts.next?(y=N===void 0?1:N,E=P):y=1;const h=o.const("len",(0,e._)`${p}.length`);if(v.setParams({min:y,max:E}),E===void 0&&y===0){(0,n.checkStrictMode)($,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&y>E){(0,n.checkStrictMode)($,'"minContains" > "maxContains" is always invalid'),v.fail();return}if((0,n.alwaysValidSchema)($,f)){let s=(0,e._)`${h} >= ${y}`;E!==void 0&&(s=(0,e._)`${s} && ${h} <= ${E}`),v.pass(s);return}$.items=!0;const b=o.name("valid");E===void 0&&y===1?a(b,()=>o.if(b,()=>o.break())):y===0?(o.let(b,!0),E!==void 0&&o.if((0,e._)`${p}.length > 0`,r)):(o.let(b,!1),r()),v.result(b,()=>v.reset());function r(){const s=o.name("_valid"),l=o.let("count",0);a(s,()=>o.if(s,()=>t(l)))}function a(s,l){o.forRange("i",0,h,m=>{v.subschema({keyword:"contains",dataProp:m,dataPropType:n.Type.Num,compositeRule:!0},s),l()})}function t(s){o.code((0,e._)`${s}++`),E===void 0?o.if((0,e._)`${s} >= ${y}`,()=>o.assign(b,!0).break()):(o.if((0,e._)`${s} > ${E}`,()=>o.assign(b,!1).break()),y===1?o.assign(b,!0):o.if((0,e._)`${s} >= ${y}`,()=>o.assign(b,!0)))}}};return nt.default=c,nt}var Dt={},Kr;function is(){return Kr||(Kr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const n=G(),g=Q(),c=fe();e.error={message:({params:{property:p,depsCount:$,deps:y}})=>{const E=$===1?"property":"properties";return(0,n.str)`must have ${E} ${y} when property ${p} is present`},params:({params:{property:p,depsCount:$,deps:y,missingProperty:E}})=>(0,n._)`{property: ${p},
    missingProperty: ${E},
    depsCount: ${$},
    deps: ${y}}`};const v={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(p){const[$,y]=o(p);f(p,$),u(p,y)}};function o({schema:p}){const $={},y={};for(const E in p){if(E==="__proto__")continue;const N=Array.isArray(p[E])?$:y;N[E]=p[E]}return[$,y]}function f(p,$=p.schema){const{gen:y,data:E,it:N}=p;if(Object.keys($).length===0)return;const P=y.let("missing");for(const h in $){const b=$[h];if(b.length===0)continue;const r=(0,c.propertyInData)(y,E,h,N.opts.ownProperties);p.setParams({property:h,depsCount:b.length,deps:b.join(", ")}),N.allErrors?y.if(r,()=>{for(const a of b)(0,c.checkReportMissingProp)(p,a)}):(y.if((0,n._)`${r} && (${(0,c.checkMissingProp)(p,b,P)})`),(0,c.reportMissingProp)(p,P),y.else())}}e.validatePropertyDeps=f;function u(p,$=p.schema){const{gen:y,data:E,keyword:N,it:P}=p,h=y.name("valid");for(const b in $)(0,g.alwaysValidSchema)(P,$[b])||(y.if((0,c.propertyInData)(y,E,b,P.opts.ownProperties),()=>{const r=p.subschema({keyword:N,schemaProp:b},h);p.mergeValidEvaluated(r,h)},()=>y.var(h,!0)),p.ok(h))}e.validateSchemaDeps=u,e.default=v}(Dt)),Dt}var st={},Lr;function us(){if(Lr)return st;Lr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=G(),n=Q(),c={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:v})=>(0,e._)`{propertyName: ${v.propertyName}}`},code(v){const{gen:o,schema:f,data:u,it:p}=v;if((0,n.alwaysValidSchema)(p,f))return;const $=o.name("valid");o.forIn("key",u,y=>{v.setParams({propertyName:y}),v.subschema({keyword:"propertyNames",data:y,dataTypes:["string"],propertyName:y,compositeRule:!0},$),o.if((0,e.not)($),()=>{v.error(!0),p.allErrors||o.break()})}),v.ok($)}};return st.default=c,st}var at={},Hr;function pn(){if(Hr)return at;Hr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=fe(),n=G(),g=we(),c=Q(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:f})=>(0,n._)`{additionalProperty: ${f.additionalProperty}}`},code(f){const{gen:u,schema:p,parentSchema:$,data:y,errsCount:E,it:N}=f;if(!E)throw new Error("ajv implementation error");const{allErrors:P,opts:h}=N;if(N.props=!0,h.removeAdditional!=="all"&&(0,c.alwaysValidSchema)(N,p))return;const b=(0,e.allSchemaProperties)($.properties),r=(0,e.allSchemaProperties)($.patternProperties);a(),f.ok((0,n._)`${E} === ${g.default.errors}`);function a(){u.forIn("key",y,d=>{!b.length&&!r.length?l(d):u.if(t(d),()=>l(d))})}function t(d){let _;if(b.length>8){const j=(0,c.schemaRefOrVal)(N,$.properties,"properties");_=(0,e.isOwnProperty)(u,j,d)}else b.length?_=(0,n.or)(...b.map(j=>(0,n._)`${d} === ${j}`)):_=n.nil;return r.length&&(_=(0,n.or)(_,...r.map(j=>(0,n._)`${(0,e.usePattern)(f,j)}.test(${d})`))),(0,n.not)(_)}function s(d){u.code((0,n._)`delete ${y}[${d}]`)}function l(d){if(h.removeAdditional==="all"||h.removeAdditional&&p===!1){s(d);return}if(p===!1){f.setParams({additionalProperty:d}),f.error(),P||u.break();return}if(typeof p=="object"&&!(0,c.alwaysValidSchema)(N,p)){const _=u.name("valid");h.removeAdditional==="failing"?(m(d,_,!1),u.if((0,n.not)(_),()=>{f.reset(),s(d)})):(m(d,_),P||u.if((0,n.not)(_),()=>u.break()))}}function m(d,_,j){const C={keyword:"additionalProperties",dataProp:d,dataPropType:c.Type.Str};j===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),f.subschema(C,_)}}};return at.default=o,at}var ot={},Jr;function cs(){if(Jr)return ot;Jr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=wt(),n=fe(),g=Q(),c=pn(),v={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:f,schema:u,parentSchema:p,data:$,it:y}=o;y.opts.removeAdditional==="all"&&p.additionalProperties===void 0&&c.default.code(new e.KeywordCxt(y,c.default,"additionalProperties"));const E=(0,n.allSchemaProperties)(u);for(const r of E)y.definedProperties.add(r);y.opts.unevaluated&&E.length&&y.props!==!0&&(y.props=g.mergeEvaluated.props(f,(0,g.toHash)(E),y.props));const N=E.filter(r=>!(0,g.alwaysValidSchema)(y,u[r]));if(N.length===0)return;const P=f.name("valid");for(const r of N)h(r)?b(r):(f.if((0,n.propertyInData)(f,$,r,y.opts.ownProperties)),b(r),y.allErrors||f.else().var(P,!0),f.endIf()),o.it.definedProperties.add(r),o.ok(P);function h(r){return y.opts.useDefaults&&!y.compositeRule&&u[r].default!==void 0}function b(r){o.subschema({keyword:"properties",schemaProp:r,dataProp:r},P)}}};return ot.default=v,ot}var it={},Gr;function ls(){if(Gr)return it;Gr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=fe(),n=G(),g=Q(),c=Q(),v={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:f,schema:u,data:p,parentSchema:$,it:y}=o,{opts:E}=y,N=(0,e.allSchemaProperties)(u),P=N.filter(l=>(0,g.alwaysValidSchema)(y,u[l]));if(N.length===0||P.length===N.length&&(!y.opts.unevaluated||y.props===!0))return;const h=E.strictSchema&&!E.allowMatchingProperties&&$.properties,b=f.name("valid");y.props!==!0&&!(y.props instanceof n.Name)&&(y.props=(0,c.evaluatedPropsToName)(f,y.props));const{props:r}=y;a();function a(){for(const l of N)h&&t(l),y.allErrors?s(l):(f.var(b,!0),s(l),f.if(b))}function t(l){for(const m in h)new RegExp(l).test(m)&&(0,g.checkStrictMode)(y,`property ${m} matches pattern ${l} (use allowMatchingProperties)`)}function s(l){f.forIn("key",p,m=>{f.if((0,n._)`${(0,e.usePattern)(o,l)}.test(${m})`,()=>{const d=P.includes(l);d||o.subschema({keyword:"patternProperties",schemaProp:l,dataProp:m,dataPropType:c.Type.Str},b),y.opts.unevaluated&&r!==!0?f.assign((0,n._)`${r}[${m}]`,!0):!d&&!y.allErrors&&f.if((0,n.not)(b),()=>f.break())})})}}};return it.default=v,it}var ut={},Br;function ds(){if(Br)return ut;Br=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Q(),n={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(g){const{gen:c,schema:v,it:o}=g;if((0,e.alwaysValidSchema)(o,v)){g.fail();return}const f=c.name("valid");g.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),g.failResult(f,()=>g.reset(),()=>g.error())},error:{message:"must NOT be valid"}};return ut.default=n,ut}var ct={},Wr;function fs(){if(Wr)return ct;Wr=1,Object.defineProperty(ct,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:fe().validateUnion,error:{message:"must match a schema in anyOf"}};return ct.default=n,ct}var lt={},Qr;function hs(){if(Qr)return lt;Qr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=G(),n=Q(),c={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:v})=>(0,e._)`{passingSchemas: ${v.passing}}`},code(v){const{gen:o,schema:f,parentSchema:u,it:p}=v;if(!Array.isArray(f))throw new Error("ajv implementation error");if(p.opts.discriminator&&u.discriminator)return;const $=f,y=o.let("valid",!1),E=o.let("passing",null),N=o.name("_valid");v.setParams({passing:E}),o.block(P),v.result(y,()=>v.reset(),()=>v.error(!0));function P(){$.forEach((h,b)=>{let r;(0,n.alwaysValidSchema)(p,h)?o.var(N,!0):r=v.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},N),b>0&&o.if((0,e._)`${N} && ${y}`).assign(y,!1).assign(E,(0,e._)`[${E}, ${b}]`).else(),o.if(N,()=>{o.assign(y,!0),o.assign(E,b),r&&v.mergeEvaluated(r,e.Name)})})}}};return lt.default=c,lt}var dt={},Xr;function ps(){if(Xr)return dt;Xr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=Q(),n={keyword:"allOf",schemaType:"array",code(g){const{gen:c,schema:v,it:o}=g;if(!Array.isArray(v))throw new Error("ajv implementation error");const f=c.name("valid");v.forEach((u,p)=>{if((0,e.alwaysValidSchema)(o,u))return;const $=g.subschema({keyword:"allOf",schemaProp:p},f);g.ok(f),g.mergeEvaluated($)})}};return dt.default=n,dt}var ft={},Yr;function ms(){if(Yr)return ft;Yr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=G(),n=Q(),c={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:f,parentSchema:u,it:p}=o;u.then===void 0&&u.else===void 0&&(0,n.checkStrictMode)(p,'"if" without "then" and "else" is ignored');const $=v(p,"then"),y=v(p,"else");if(!$&&!y)return;const E=f.let("valid",!0),N=f.name("_valid");if(P(),o.reset(),$&&y){const b=f.let("ifClause");o.setParams({ifClause:b}),f.if(N,h("then",b),h("else",b))}else $?f.if(N,h("then")):f.if((0,e.not)(N),h("else"));o.pass(E,()=>o.error(!0));function P(){const b=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);o.mergeEvaluated(b)}function h(b,r){return()=>{const a=o.subschema({keyword:b},N);f.assign(E,N),o.mergeValidEvaluated(a,E),r?f.assign(r,(0,e._)`${b}`):o.setParams({ifClause:b})}}}};function v(o,f){const u=o.schema[f];return u!==void 0&&!(0,n.alwaysValidSchema)(o,u)}return ft.default=c,ft}var ht={},Zr;function ys(){if(Zr)return ht;Zr=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=Q(),n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:g,parentSchema:c,it:v}){c.if===void 0&&(0,e.checkStrictMode)(v,`"${g}" without "if" is ignored`)}};return ht.default=n,ht}var xr;function _s(){if(xr)return et;xr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=fn(),n=ss(),g=hn(),c=as(),v=os(),o=is(),f=us(),u=pn(),p=cs(),$=ls(),y=ds(),E=fs(),N=hs(),P=ps(),h=ms(),b=ys();function r(a=!1){const t=[y.default,E.default,N.default,P.default,h.default,b.default,f.default,u.default,o.default,p.default,$.default];return a?t.push(n.default,c.default):t.push(e.default,g.default),t.push(v.default),t}return et.default=r,et}var pt={},mt={},en;function vs(){if(en)return mt;en=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=G(),g={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:c})=>(0,e.str)`must match format "${c}"`,params:({schemaCode:c})=>(0,e._)`{format: ${c}}`},code(c,v){const{gen:o,data:f,$data:u,schema:p,schemaCode:$,it:y}=c,{opts:E,errSchemaPath:N,schemaEnv:P,self:h}=y;if(!E.validateFormats)return;u?b():r();function b(){const a=o.scopeValue("formats",{ref:h.formats,code:E.code.formats}),t=o.const("fDef",(0,e._)`${a}[${$}]`),s=o.let("fType"),l=o.let("format");o.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>o.assign(s,(0,e._)`${t}.type || "string"`).assign(l,(0,e._)`${t}.validate`),()=>o.assign(s,(0,e._)`"string"`).assign(l,t)),c.fail$data((0,e.or)(m(),d()));function m(){return E.strictSchema===!1?e.nil:(0,e._)`${$} && !${l}`}function d(){const _=P.$async?(0,e._)`(${t}.async ? await ${l}(${f}) : ${l}(${f}))`:(0,e._)`${l}(${f})`,j=(0,e._)`(typeof ${l} == "function" ? ${_} : ${l}.test(${f}))`;return(0,e._)`${l} && ${l} !== true && ${s} === ${v} && !${j}`}}function r(){const a=h.formats[p];if(!a){m();return}if(a===!0)return;const[t,s,l]=d(a);t===v&&c.pass(_());function m(){if(E.strictSchema===!1){h.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${p}" ignored in schema at path "${N}"`}}function d(j){const C=j instanceof RegExp?(0,e.regexpCode)(j):E.code.formats?(0,e._)`${E.code.formats}${(0,e.getProperty)(p)}`:void 0,D=o.scopeValue("formats",{key:p,ref:j,code:C});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${D}.validate`]:["string",j,D]}function _(){if(typeof a=="object"&&!(a instanceof RegExp)&&a.async){if(!P.$async)throw new Error("async format in sync schema");return(0,e._)`await ${l}(${f})`}return typeof s=="function"?(0,e._)`${l}(${f})`:(0,e._)`${l}.test(${f})`}}}};return mt.default=g,mt}var tn;function gs(){if(tn)return pt;tn=1,Object.defineProperty(pt,"__esModule",{value:!0});const n=[vs().default];return pt.default=n,pt}var Se={},rn;function $s(){return rn||(rn=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.contentVocabulary=Se.metadataVocabulary=void 0,Se.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Se.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Se}var nn;function ws(){if(nn)return Ve;nn=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=Jn(),n=ns(),g=_s(),c=gs(),v=$s(),o=[e.default,n.default,(0,g.default)(),c.default,v.metadataVocabulary,v.contentVocabulary];return Ve.default=o,Ve}var yt={},Te={},sn;function bs(){if(sn)return Te;sn=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.DiscrError=void 0;var e;return function(n){n.Tag="tag",n.Mapping="mapping"}(e||(Te.DiscrError=e={})),Te}var an;function Es(){if(an)return yt;an=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=G(),n=bs(),g=Ft(),c=bt(),v=Q(),f={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:p}})=>u===n.DiscrError.Tag?`tag "${p}" must be string`:`value of tag "${p}" must be in oneOf`,params:({params:{discrError:u,tag:p,tagName:$}})=>(0,e._)`{error: ${u}, tag: ${$}, tagValue: ${p}}`},code(u){const{gen:p,data:$,schema:y,parentSchema:E,it:N}=u,{oneOf:P}=E;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=y.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(y.mapping)throw new Error("discriminator: mapping is not supported");if(!P)throw new Error("discriminator: requires oneOf keyword");const b=p.let("valid",!1),r=p.const("tag",(0,e._)`${$}${(0,e.getProperty)(h)}`);p.if((0,e._)`typeof ${r} == "string"`,()=>a(),()=>u.error(!1,{discrError:n.DiscrError.Tag,tag:r,tagName:h})),u.ok(b);function a(){const l=s();p.if(!1);for(const m in l)p.elseIf((0,e._)`${r} === ${m}`),p.assign(b,t(l[m]));p.else(),u.error(!1,{discrError:n.DiscrError.Mapping,tag:r,tagName:h}),p.endIf()}function t(l){const m=p.name("valid"),d=u.subschema({keyword:"oneOf",schemaProp:l},m);return u.mergeEvaluated(d,e.Name),m}function s(){var l;const m={},d=j(E);let _=!0;for(let z=0;z<P.length;z++){let L=P[z];if(L!=null&&L.$ref&&!(0,v.schemaHasRulesButRef)(L,N.self.RULES)){const W=L.$ref;if(L=g.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,W),L instanceof g.SchemaEnv&&(L=L.schema),L===void 0)throw new c.default(N.opts.uriResolver,N.baseId,W)}const K=(l=L==null?void 0:L.properties)===null||l===void 0?void 0:l[h];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);_=_&&(d||j(L)),C(K,z)}if(!_)throw new Error(`discriminator: "${h}" must be required`);return m;function j({required:z}){return Array.isArray(z)&&z.includes(h)}function C(z,L){if(z.const)D(z.const,L);else if(z.enum)for(const K of z.enum)D(K,L);else throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function D(z,L){if(typeof z!="string"||z in m)throw new Error(`discriminator: "${h}" values must be unique strings`);m[z]=L}}}};return yt.default=f,yt}const Ss="http://json-schema.org/draft-07/schema#",Ps="http://json-schema.org/draft-07/schema#",Ns="Core schema meta-schema",Rs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ks=["object","boolean"],Os={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},js={$schema:Ss,$id:Ps,title:Ns,definitions:Rs,type:ks,properties:Os,default:!0};var on;function Is(){return on||(on=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=n.Ajv=void 0;const g=Kn(),c=ws(),v=Es(),o=js,f=["/properties"],u="http://json-schema.org/draft-07/schema";class p extends g.default{_addVocabularies(){super._addVocabularies(),c.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(v.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(o,f):o;this.addMetaSchema(h,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}n.Ajv=p,e.exports=n=p,e.exports.Ajv=p,Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var $=wt();Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var y=G();Object.defineProperty(n,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var E=Ut();Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return E.default}});var N=bt();Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:function(){return N.default}})}(qe,qe.exports)),qe.exports}var Ts=Is();const qs=yn(Ts),Cs={$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{uuid:{type:"string",nullable:!0},authors:{items:{type:"string"},type:"array",nullable:!0},displayName:{type:"string",nullable:!0},publishDate:{type:"number",nullable:!0},viewUrl:{type:"string",nullable:!0},downloadUrl:{type:"string",nullable:!0},md5:{type:"string",nullable:!0},phash:{type:"string",nullable:!0},resolution:{items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,type:"array",nullable:!0},fileSize:{type:"number",nullable:!0},languages:{items:{type:"string"},type:"array",nullable:!0},tags:{items:{type:"string"},type:"array",nullable:!0},abstract:{type:"string",nullable:!0},rights:{type:"string",nullable:!0},source:{type:"object",properties:{name:{type:"string"},url:{type:"string"},accessDate:{type:"string"}},required:["name","url","accessDate"],additionalProperties:!1,nullable:!0}},additionalProperties:!0},As=new qs({allowUnionTypes:!0}),Ms=As.compile(Cs),Ds=e=>{let n=null,g=!1,c=!1;try{n=JSON.parse(e),g=!0,c=Ms(n)}catch{}return{parsed:n,validJson:g,validVisualization:c}},Lt=_n("json",{state:()=>({text:""}),getters:{validationResult:e=>Ds(e.text),parsed(){return this.validationResult.parsed},validJson(){return this.validationResult.validJson},validVisualization(){return this.validationResult.validVisualization}},persist:!0}),Vs={"view-container":""},zs={class:"overflow-auto p-1 flex-1 flex"},Us={key:1,class:"text-red m-auto"},Fs=Vt({__name:"TheViewDataEntryParsed",setup(e){const{parsed:n}=zt(Lt());return(g,c)=>{const v=vn;return $e(),ke("div",Vs,[c[0]||(c[0]=ne("div",{"view-header":""},[ne("div",{class:"i-fa6-solid:code my-auto"}),ne("div",{class:"font-bold"}," Data Entry Parsed ")],-1)),ne("div",zs,[de(n)!==null?($e(),un(v,{key:0,datum:de(n)},null,8,["datum"])):($e(),ke("div",Us," Invalid Data Entry "))])])}}}),Ks={"view-container":""},Ls={class:"overflow-auto p-1 flex-1 flex"},Hs={key:1,class:"text-red m-auto"},Js=Vt({__name:"TheViewJsonParsed",setup(e){const{parsed:n,validJson:g}=zt(Lt());return(c,v)=>($e(),ke("div",Ks,[v[0]||(v[0]=ne("div",{"view-header":""},[ne("div",{class:"i-fa6-solid:code my-auto"}),ne("div",{class:"font-bold"}," JSON Parsed ")],-1)),ne("div",Ls,[de(g)?($e(),un(de($n),{key:0,data:de(n),"expand-level":5,"dark-theme":de(gn)},null,8,["data","dark-theme"])):($e(),ke("div",Hs," Invalid JSON "))])]))}}),Gs={"view-container":""},Bs={"view-header":""},Ws=["disabled"],Qs=["disabled"],Xs=Vt({__name:"TheViewJsonInput",setup(e){const{text:n,validJson:g}=zt(Lt()),c=()=>{g.value&&(n.value=JSON.stringify(JSON.parse(n.value),null,4))};return(v,o)=>($e(),ke("div",Gs,[ne("div",Bs,[o[2]||(o[2]=ne("div",{class:"i-fa6-solid:code my-auto"},null,-1)),o[3]||(o[3]=ne("div",{class:"font-bold"}," JSON Input ",-1)),ne("button",{btn:"",class:Gt(["ml-auto py-0",{"pointer-events-none":!de(g)}]),title:"Format the JSON",disabled:!de(g),onClick:c}," format ",10,Ws),ne("button",{btn:"",class:Gt(["py-0",{"pointer-events-none":!de(g)}]),title:"Submit to server",disabled:!de(g)},o[1]||(o[1]=[ne("a",{rel:"noreferrer",href:"https://github.com/oldvis/dataset/issues",target:"_blank"}," submit ",-1)]),10,Qs)]),wn(ne("textarea",{"onUpdate:modelValue":o[0]||(o[0]=f=>En(n)?n.value=f:null),"input-area":"",class:"flex-1 m-1 py-1 text-sm resize-none",placeholder:"Your JSON..."},null,512),[[bn,de(n)]])]))}}),Ys={},Zs={class:"flex grow gap-1 m-1 overflow-auto"},xs={class:"flex-1 gap-1",flex:"~ col"};function ea(e,n){const g=Xs,c=Js,v=Fs;return $e(),ke("div",Zs,[ne("div",xs,[Nt(g,{class:"flex-1"}),Nt(c,{class:"flex-1"})]),Nt(v,{class:"flex-1"})])}const ra=Sn(Ys,[["render",ea]]);export{ra as default};
